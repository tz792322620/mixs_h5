{"remainingRequest":"/Users/sanxun/Downloads/misx_h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sanxun/Downloads/misx_h5/src/views/index/index.vue?vue&type=style&index=0&id=498142aa&lang=css&","dependencies":[{"path":"/Users/sanxun/Downloads/misx_h5/src/views/index/index.vue","mtime":1668997560416},{"path":"/Users/sanxun/Downloads/misx_h5/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sanxun/Downloads/misx_h5/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/sanxun/Downloads/misx_h5/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/sanxun/Downloads/misx_h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sanxun/Downloads/misx_h5/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5iansKICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoMjA2ZGVnLCAjNDlCMUIzLCAjNTlCNTlFKTsKICBoZWlnaHQ6IDYwcmVtOwogIC8qcG9zaXRpb246IGZpeGVkOyovCiAgLypvdmVyZmxvdy15OiBoaWRkZW47Ki8KICB3aWR0aDogMTAwJTsKfQouYmprewogIGJvcmRlcjogMXB4IHNvbGlkICM0OUIxQjM7CiAgbWFyZ2luOiAwLjVyZW07CiAgYm9yZGVyLXJhZGl1czogMXJlbTsKICBtYXJnaW4tYm90dG9tOiAxcmVtOwp9Ci52YW4tY2VsbCB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGRpc3BsYXk6IC13ZWJraXQtYm94OwogIGRpc3BsYXk6IC13ZWJraXQtZmxleDsKICBkaXNwbGF5OiBmbGV4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgd2lkdGg6IDEwMCU7CiAgcGFkZGluZzogMTBweCAxNnB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgY29sb3I6ICMzMjMyMzM7CiAgZm9udC1zaXplOiAxNHB4OwogIGxpbmUtaGVpZ2h0OiAyNHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgYm9yZGVyLXJhZGl1czogMXJlbTsKfQoueHp7CiAgY29sb3I6ICM0OUIxQjMKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/index","sourcesContent":["<template>\n  <div class=\"bj\">\n    <div style=\"display: flex;\n    flex-direction: column;\n    align-items: center;padding-top: 3rem;\">\n      <div style=\"width: 5rem;padding-bottom: 1rem;\"><img src=\"@/assets/image/logo.png\" ></div>\n      <div style=\"width: 10rem;\"><img src=\"@/assets/image/logotitle.png\" ></div>\n    </div>\n\n    <div style=\"margin: 1rem;margin-top: 3rem;\">\n      <div style=\"background-color: #fff;width: 100%;padding: 1rem;border-radius: 1rem;padding-bottom: 3rem;\">\n        <div style=\"display: flex;\n            justify-content: space-around;\n            padding-top: 1rem;font-size: 1rem;font-weight: 600;padding-bottom: 1rem;\">\n          <div :class=\" !xsyx ? 'xz':'' \" @click=\"sjzc()\">手机注册</div>\n          <div :class=\" xsyx ? 'xz':'' \"  @click=\"yxzc()\" >邮箱注册</div>\n        </div>\n        <div>\n          <div class=\"bjk\" v-if=\"!xsyx\">\n            <van-field\n                v-model=\"sjh\"\n                maxlength=\"11\"\n                type=\"number\"\n                placeholder=\"请输入手机号\"\n            >\n              <template #left-icon>\n                <div style=\"display: flex;\" @click=\"showPicker = true\">\n                  <div>+{{quhao}}</div>\n                  <div><img style=\"width: 1.5rem\" src=\"@/assets/image/sjh.png\"></div>\n                </div>\n              </template>\n            </van-field>\n          </div>\n\n          <div class=\"bjk\" v-if=\"xsyx\">\n            <van-field\n                v-model=\"sjh\"\n                placeholder=\"请输入邮箱\"\n                @blur=\"checkEmail\"\n            >\n              <template #left-icon>\n                <img style=\"width: 1.5rem\" src=\"@/assets/image/yx.png\">\n              </template>\n            </van-field>\n          </div>\n\n\n          <div class=\"bjk\">\n            <van-field\n                v-model=\"yzm\"\n                left-icon=\"@/assets/image/yqm.png\"\n                placeholder=\"请输入验证码\"\n                maxlength=\"6\"\n            >\n              <template #left-icon>\n                <img style=\"width: 1.5rem\" src=\"@/assets/image/yzm.png\">\n              </template>\n              <template #button>\n                <span  style=\"color: #4bb2b1;\" v-show=\"timeTrue == true\" @click=\"acquire\">发送验证码</span>\n                <span  style=\"color: #4bb2b1;\" v-show=\"timeTrue == false\" >{{ time }}秒后重新获取</span>\n              </template>\n            </van-field>\n          </div>\n\n          <div class=\"bjk\">\n            <van-field\n                v-model=\"mm\"\n                type=\"password\"\n                left-icon=\"@/assets/image/yqm.png\"\n                placeholder=\"请输入8-32位字母数字密码组合\"\n                maxlength=\"32\"\n            >\n              <template #left-icon>\n                <img style=\"width: 1.5rem\" src=\"@/assets/image/mima.png\">\n              </template>\n            </van-field>\n          </div>\n\n          <div class=\"bjk\">\n            <van-field\n                v-model=\"qrmm\"\n                type=\"password\"\n                left-icon=\"@/assets/image/yqm.png\"\n                maxlength=\"32\"\n                placeholder=\"请再次输入8-32位字母数字密码组合\"\n            >\n              <template #left-icon>\n                <img style=\"width: 1.5rem\" src=\"@/assets/image/mima.png\">\n              </template>\n            </van-field>\n          </div>\n\n          <div class=\"bjk\">\n            <van-field\n                v-model=\"yqm\"\n                left-icon=\"@/assets/image/yqm.png\"\n                placeholder=\"请输入邀请码(选填)\"\n                :disabled=\"disabled\"\n                maxlength=\"10\"\n            >\n              <template #left-icon>\n                <img style=\"width: 1.5rem\" src=\"@/assets/image/yqm.png\">\n              </template>\n            </van-field>\n          </div>\n        </div>\n\n        <div style=\"display: flex;flex-direction: column;align-items: center;\">\n          <div @click=\"sees()\">\n            <img src=\"@/assets/image/czan.png\" >\n          </div>\n          <div style=\"width: 15rem;margin-top: 1rem;\">\n            <img src=\"@/assets/image/czxx.png\" >\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <van-popup v-model=\"showPicker\" round position=\"bottom\">\n      <van-picker\n          show-toolbar\n          :columns=\"columns\"\n          @cancel=\"showPicker = false\"\n          @confirm=\"onConfirm\"\n      />\n    </van-popup>\n\n  </div>\n</template>\n\n<script>\nimport {Collapse, CollapseItem, Field, Dialog, Toast, Loading , Lazyload ,Swipe, SwipeItem ,Icon\n,Image as VanImage , CountDown ,Popup ,Cell, CellGroup ,Progress,Picker} from \"vant\";\nimport axios from '../../utils/axios';\nexport default {\n  name: \"index\",\n  inject: ['reload'],\n  data() {\n    return {\n        sjh:'',\n        yzm:'',\n        mm:'',\n        qrmm:'',\n        yqm:'',\n        xsyx:false,\n        columns: [{ text: '中国',value:'86' }],\n        showPicker: false,\n        quhao:'86',\n        timeTrue: true,\n        time: 0,\n        disabled:false,\n    }\n  },\n\n  mounted() {\n\n  },\n  watch: {\n\n  },\n\n  components: {\n    [Collapse.name]: Collapse,\n    [CollapseItem.name]: CollapseItem,\n    [Field.name]: Field,\n    [Dialog.name]: Dialog,\n    [Dialog.Component.name]: Dialog.Component,\n    [Toast.name]: Toast,\n    [Loading.name]: Loading,\n    [Swipe.name]: Swipe,\n    [SwipeItem.name]: SwipeItem,\n    [Lazyload.name]: Lazyload,\n    [Icon.name]: Icon,\n    [VanImage.name]: VanImage,\n    [CountDown.name]: CountDown,\n    [Popup.name]: Popup,\n    [Cell.name]: Cell,\n    [CellGroup.name]: CellGroup,\n    [Progress.name]: Progress,\n    [Picker.name]: Picker,\n  },\n  //初始化\n  async created(){\n    await this.huoqu();\n  },\n\n  methods: {\n    checkEmail() {\n      const reg = /^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;\n      if (!reg.test(this.sjh)) {\n        Toast('请输入正确的邮箱');\n        this.sjh=''\n      }\n    },\n\n    checkPhone() {\n      const reg = /^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;\n      if (!reg.test(this.sjh)) {\n        Toast('请输入正确的手机号');\n        this.sjh=''\n      }\n    },\n\n    async huoqu(){\n      let code = this.$route.query.code !== null ? this.$route.query.code : localStorage.getItem('code')\n      console.log(\"code\",code)\n      if(code != null){\n        this.yqm = code\n        this.disabled = true\n      }\n      let qhxxs=[]\n      await axios.get('http://user.mixs.me/user/listArea').then(res=> {\n        console.log(res.data)\n        res.data.map((item) => {\n          let qhxx = {text: item.country+('+'+item.areaNo),value:item.areaNo}\n          qhxxs.push(qhxx)\n        })\n      }).catch(err=>{\n        console.log(err.data)\n        err.data.map((item) => {\n          let qhxx = {text: item.country+(item.areaNo),value:item.areaNo}\n          qhxxs.push(qhxx)\n        })\n      });\n      console.log(qhxxs)\n      this.columns = qhxxs\n    },\n    sees(){\n      let that = this\n      let type\n      type = !that.xsyx ? 0 : 1;\n      if (that.yzm == '' || that.qrmm == '' || that.mm == '' || that.sjh == ''){\n        Toast('信息不能为空');\n        return false\n      }\n      axios.post('http://user.mixs.me/user/register',{\n        \"areaCode\": that.quhao,\n        \"captcha\": that.yzm,\n        \"confirmPassword\": that.qrmm,\n        \"invitationCode\": that.yqm,\n        \"password\": that.mm,\n        \"phoneNoOrMail\": that.sjh,\n        \"type\":type\n      }).then(function (response) {\n        console.log(response);\n        Toast('注册成功');\n        this.$router.push({ path: \"/download\" });\n      }).catch(function (error) {\n        Toast(error.msg);\n        // location.reload();\n      });\n    },\n    sjzc(){\n        this.sjh = '';\n        this.xsyx =false;\n    },\n    yxzc(){\n      this.sjh = '';\n      this.xsyx =true;\n    },\n    onConfirm(value) {\n      console.log(value.value)\n      this.value = value.value;\n      this.quhao = value.value\n      this.showPicker = false;\n    },\n    acquire() {\n      let that = this\n      let type = 0\n      let sj = ''\n      if(this.quhao == '86'){\n         sj = this.sjh\n      }else {\n         sj = this.quhao + this.sjh\n      }\n\n      type = !that.xsyx ? 0 : 1;\n      axios.post('http://user.mixs.me/captcha/registerCaptcha',{\n        \"captchaType\": 0,\n        \"mailOrPhone\": sj,\n        \"type\": type\n      }).then(function (response) {\n        console.log(response);\n        Toast('发送成功');\n        that.timeTrue = false;\n        that.time = 60;\n        var setTimeoutS = setInterval(() => {\n          that.time--;\n          if (that.time <= 0) {\n            clearInterval(setTimeoutS);\n            that.timeTrue = true;\n          }\n        }, 1000);\n      }).catch(function (error) {\n        console.log(error);\n        Toast(error.msg);\n      });\n    },\n\n  },\n  filters: {\n\n  },\n}\n</script>\n<style>\n.bj{\n  background-image: linear-gradient(206deg, #49B1B3, #59B59E);\n  height: 60rem;\n  /*position: fixed;*/\n  /*overflow-y: hidden;*/\n  width: 100%;\n}\n.bjk{\n  border: 1px solid #49B1B3;\n  margin: 0.5rem;\n  border-radius: 1rem;\n  margin-bottom: 1rem;\n}\n.van-cell {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 10px 16px;\n  overflow: hidden;\n  color: #323233;\n  font-size: 14px;\n  line-height: 24px;\n  background-color: #fff;\n  border-radius: 1rem;\n}\n.xz{\n  color: #49B1B3\n}\n</style>\n"]}]}