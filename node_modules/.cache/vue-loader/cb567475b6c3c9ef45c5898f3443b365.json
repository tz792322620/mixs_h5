{"remainingRequest":"/Users/sanxun/Downloads/daou/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sanxun/Downloads/daou/src/views/index/success.vue?vue&type=style&index=1&id=a7ab2dc8&scoped=true&lang=css&","dependencies":[{"path":"/Users/sanxun/Downloads/daou/src/views/index/success.vue","mtime":1645239023000},{"path":"/Users/sanxun/Downloads/daou/node_modules/css-loader/dist/cjs.js","mtime":1649658060737},{"path":"/Users/sanxun/Downloads/daou/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1658193519060},{"path":"/Users/sanxun/Downloads/daou/node_modules/postcss-loader/src/index.js","mtime":1649646771004},{"path":"/Users/sanxun/Downloads/daou/node_modules/cache-loader/dist/cjs.js","mtime":1649646770389},{"path":"/Users/sanxun/Downloads/daou/node_modules/vue-loader/lib/index.js","mtime":1658193519060}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5zdWNjZXNzaWNve3dpZHRoOiA2MHB4O2hlaWdodDogNjBweDtiYWNrZ3JvdW5kOnVybCguLi8uLi9hc3NldHMvaW1hZ2UvZmluaXNoaWNvLnBuZyluby1yZXBlYXQ7YmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7bWFyZ2luOiAwIGF1dG87bWFyZ2luLXRvcDogMTAlO30KLmVnZ190aXRsZV90eHQgewogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHJpZ2h0LCAjRjVEMDM3LCAjRTlCNDEwKTsKICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogdGV4dDsKICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgZm9udC1zaXplOiAxcmVtOwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgouZWdnX3RpdGxlIHsKICB3aWR0aDogOTAlOwogIGRpc3BsYXk6IGZsZXg7Cn0KLmp1c3RpZnktY29udGVudF9jZW50ZXJ7ICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO30KLnFyX2NvZGUgLmVnZ190aXRsZXt3aWR0aDogMTAwJTt9Ci5jb3B5YnRuIHsKICB3aWR0aDogMzBweDsKICBoZWlnaHQ6IDIwcHg7CiAgYmFja2dyb3VuZDogdXJsKC4uLy4uL2Fzc2V0cy9pbWFnZS9jb3B5YnV0dG9uLnBuZykgbm8tcmVwZWF0OwogIGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlOwp9Cg=="},{"version":3,"sources":["success.vue"],"names":[],"mappings":";AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"success.vue","sourceRoot":"src/views/index","sourcesContent":["<template>\n<div>\n  <div class=\"s0 f16 center mt2\">ETF映射</div>\n  <div class=\"successico mt10\"></div>\n  <p class=\"s0 f16 center mt2 ml5\">绑定成功！</p>\n  <p class=\"f10 s1 center  ml5 mr5\">1.绑定先转一笔验签数量的EGG到钱包进行验签</p>\n  <p class=\"f10 s1 center  ml5 mr5\">2.转入成功后,再把ETF转入指定钱包中完成映射</p>\n\n  <div class=\"border_radius f16 mt5\">\n    <div class=\"egg_title mt2\">\n      <div class=\"egg_title_txt\" @click=\"routerindex\">去验签</div>\n    </div>\n  </div>\n\n<!--  <div class=\"border_radius f16 mt5\">-->\n<!--  <div class=\"egg_title mt2\">-->\n<!--    <div class=\"egg_title_txt\" @click=\"eggCodes\">随机码查询</div>-->\n<!--  </div>-->\n<!--  </div>-->\n</div>\n</template>\n\n<script>\nimport {Toast} from \"vant\";\nimport {eggWallet,eggCodes} from \"@/utils/Mapping\";\nimport Web3 from \"web3\";\nexport default {\n  name: \"success\",\n  data(){\n    return{\n      EGG: '',\n      defaultAddress: '',\n    }\n  },\n  //初始化\n  async created(){\n    await this.initWeb3Account()\n  },\n\n  methods:{\n    async initWeb3Account() {\n        Toast.loading({\n          duration: 0,\n          message: \"Loading..\",\n          forbidClick: true\n        });\n      console.log(\"initWeb3Account 方法执行了-------\");\n      // 检查新版MetaMask\n      if (window.ethereum) {\n        this.provider = window.ethereum;\n        try {\n          // 请求用户账号授权\n          await window.ethereum.enable();\n        } catch (error) {\n          // 用户拒绝了访问\n          console.log(\"User denied account access\");\n        }\n      }\n      // 老版 MetaMask\n      else if (window.web3) {\n        this.provider = window.web3.currentProvider;\n      }\n      // 如果没有注入的web3实例，回退到使用 Ganache\n      else {\n        alert(\"请安装MetaMask!\");\n        this.provider = new Web3.providers.HttpProvider(\"http://127.0.0.1:7545\");\n      }\n      this.web3 = new Web3(this.provider);\n      this.web3.eth.getAccounts().then(accs => {\n        this.defaultAddress = accs[0]\n        console.log(accs)\n        eggWallet().then((res) => {\n          console.log('EGG指定钱包地址:', res)\n          // console.log(res)\n          this.EGG = res\n          Toast.clear();\n        });\n      })\n    },\n    // 复制\n    copy() {\n      this.$copyText(this.EGG).then(function (e) {\n        Toast('复制成功');\n        console.log(e)\n      }, function (e) {\n        Toast('复制失败');\n        console.log(e)\n      })\n    },\n    routerindex(){\n      this.$router.push({ path: \"/verification\" });\n    },\n    eggCodes(){\n      eggCodes(this.defaultAddress).then((res) => {\n        console.log(res)\n      });\n    }\n  }\n}\n</script>\n<style>\n.border_bottom{\n  padding-bottom: 5%;\n  border-bottom: 1px dashed #7C7C7D;\n}\nhtml, body {\n  background: #16171D;\n}\n.canvas_code canvas {\n  color: #ffffff;\n  background: #ffffff;\n  border: 2px solid #F2CD36;\n  box-sizing: border-box;\n  border-radius: .6rem;\n}\n</style>\n<style scoped>\n.successico{width: 60px;height: 60px;background:url(../../assets/image/finishico.png)no-repeat;background-size: 100% 100%;margin: 0 auto;margin-top: 10%;}\n.egg_title_txt {\n  background-image: -webkit-linear-gradient(right, #F5D037, #E9B410);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-size: 1rem;\n  font-weight: bold;\n}\n\n.egg_title {\n  width: 90%;\n  display: flex;\n}\n.justify-content_center{    justify-content: center;}\n.qr_code .egg_title{width: 100%;}\n.copybtn {\n  width: 30px;\n  height: 20px;\n  background: url(../../assets/image/copybutton.png) no-repeat;\n  background-size: 100% 100%;\n}\n</style>\n"]}]}