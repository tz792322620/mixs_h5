{"remainingRequest":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sanxun/Downloads/egg_bsc-master/src/views/index/success.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sanxun/Downloads/egg_bsc-master/src/views/index/success.vue","mtime":1645239023640},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/babel-loader/lib/index.js","mtime":1644989844828},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/cache-loader/dist/cjs.js","mtime":1644989844798},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/vue-loader/lib/index.js","mtime":1644989857412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7VG9hc3R9IGZyb20gInZhbnQiOwppbXBvcnQge2VnZ1dhbGxldCxlZ2dDb2Rlc30gZnJvbSAiQC91dGlscy9NYXBwaW5nIjsKaW1wb3J0IFdlYjMgZnJvbSAid2ViMyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAic3VjY2VzcyIsCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICBFR0c6ICcnLAogICAgICBkZWZhdWx0QWRkcmVzczogJycsCiAgICB9CiAgfSwKICAvL+WIneWni+WMlgogIGFzeW5jIGNyZWF0ZWQoKXsKICAgIGF3YWl0IHRoaXMuaW5pdFdlYjNBY2NvdW50KCkKICB9LAoKICBtZXRob2RzOnsKICAgIGFzeW5jIGluaXRXZWIzQWNjb3VudCgpIHsKICAgICAgICBUb2FzdC5sb2FkaW5nKHsKICAgICAgICAgIGR1cmF0aW9uOiAwLAogICAgICAgICAgbWVzc2FnZTogIkxvYWRpbmcuLiIsCiAgICAgICAgICBmb3JiaWRDbGljazogdHJ1ZQogICAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygiaW5pdFdlYjNBY2NvdW50IOaWueazleaJp+ihjOS6hi0tLS0tLS0iKTsKICAgICAgLy8g5qOA5p+l5paw54mITWV0YU1hc2sKICAgICAgaWYgKHdpbmRvdy5ldGhlcmV1bSkgewogICAgICAgIHRoaXMucHJvdmlkZXIgPSB3aW5kb3cuZXRoZXJldW07CiAgICAgICAgdHJ5IHsKICAgICAgICAgIC8vIOivt+axgueUqOaIt+i0puWPt+aOiOadgwogICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLmVuYWJsZSgpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAvLyDnlKjmiLfmi5Lnu53kuoborr/pl64KICAgICAgICAgIGNvbnNvbGUubG9nKCJVc2VyIGRlbmllZCBhY2NvdW50IGFjY2VzcyIpOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyDogIHniYggTWV0YU1hc2sKICAgICAgZWxzZSBpZiAod2luZG93LndlYjMpIHsKICAgICAgICB0aGlzLnByb3ZpZGVyID0gd2luZG93LndlYjMuY3VycmVudFByb3ZpZGVyOwogICAgICB9CiAgICAgIC8vIOWmguaenOayoeacieazqOWFpeeahHdlYjPlrp7kvovvvIzlm57pgIDliLDkvb/nlKggR2FuYWNoZQogICAgICBlbHNlIHsKICAgICAgICBhbGVydCgi6K+35a6J6KOFTWV0YU1hc2shIik7CiAgICAgICAgdGhpcy5wcm92aWRlciA9IG5ldyBXZWIzLnByb3ZpZGVycy5IdHRwUHJvdmlkZXIoImh0dHA6Ly8xMjcuMC4wLjE6NzU0NSIpOwogICAgICB9CiAgICAgIHRoaXMud2ViMyA9IG5ldyBXZWIzKHRoaXMucHJvdmlkZXIpOwogICAgICB0aGlzLndlYjMuZXRoLmdldEFjY291bnRzKCkudGhlbihhY2NzID0+IHsKICAgICAgICB0aGlzLmRlZmF1bHRBZGRyZXNzID0gYWNjc1swXQogICAgICAgIGNvbnNvbGUubG9nKGFjY3MpCiAgICAgICAgZWdnV2FsbGV0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygnRUdH5oyH5a6a6ZKx5YyF5Zyw5Z2AOicsIHJlcykKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgIHRoaXMuRUdHID0gcmVzCiAgICAgICAgICBUb2FzdC5jbGVhcigpOwogICAgICAgIH0pOwogICAgICB9KQogICAgfSwKICAgIC8vIOWkjeWItgogICAgY29weSgpIHsKICAgICAgdGhpcy4kY29weVRleHQodGhpcy5FR0cpLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICBUb2FzdCgn5aSN5Yi25oiQ5YqfJyk7CiAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBUb2FzdCgn5aSN5Yi25aSx6LSlJyk7CiAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgfSkKICAgIH0sCiAgICByb3V0ZXJpbmRleCgpewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvdmVyaWZpY2F0aW9uIiB9KTsKICAgIH0sCiAgICBlZ2dDb2RlcygpewogICAgICBlZ2dDb2Rlcyh0aGlzLmRlZmF1bHRBZGRyZXNzKS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgIH0pOwogICAgfQogIH0KfQo="},{"version":3,"sources":["success.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"success.vue","sourceRoot":"src/views/index","sourcesContent":["<template>\n<div>\n  <div class=\"s0 f16 center mt2\">ETF映射</div>\n  <div class=\"successico mt10\"></div>\n  <p class=\"s0 f16 center mt2 ml5\">绑定成功！</p>\n  <p class=\"f10 s1 center  ml5 mr5\">1.绑定先转一笔验签数量的EGG到钱包进行验签</p>\n  <p class=\"f10 s1 center  ml5 mr5\">2.转入成功后,再把ETF转入指定钱包中完成映射</p>\n\n  <div class=\"border_radius f16 mt5\">\n    <div class=\"egg_title mt2\">\n      <div class=\"egg_title_txt\" @click=\"routerindex\">去验签</div>\n    </div>\n  </div>\n\n<!--  <div class=\"border_radius f16 mt5\">-->\n<!--  <div class=\"egg_title mt2\">-->\n<!--    <div class=\"egg_title_txt\" @click=\"eggCodes\">随机码查询</div>-->\n<!--  </div>-->\n<!--  </div>-->\n</div>\n</template>\n\n<script>\nimport {Toast} from \"vant\";\nimport {eggWallet,eggCodes} from \"@/utils/Mapping\";\nimport Web3 from \"web3\";\nexport default {\n  name: \"success\",\n  data(){\n    return{\n      EGG: '',\n      defaultAddress: '',\n    }\n  },\n  //初始化\n  async created(){\n    await this.initWeb3Account()\n  },\n\n  methods:{\n    async initWeb3Account() {\n        Toast.loading({\n          duration: 0,\n          message: \"Loading..\",\n          forbidClick: true\n        });\n      console.log(\"initWeb3Account 方法执行了-------\");\n      // 检查新版MetaMask\n      if (window.ethereum) {\n        this.provider = window.ethereum;\n        try {\n          // 请求用户账号授权\n          await window.ethereum.enable();\n        } catch (error) {\n          // 用户拒绝了访问\n          console.log(\"User denied account access\");\n        }\n      }\n      // 老版 MetaMask\n      else if (window.web3) {\n        this.provider = window.web3.currentProvider;\n      }\n      // 如果没有注入的web3实例，回退到使用 Ganache\n      else {\n        alert(\"请安装MetaMask!\");\n        this.provider = new Web3.providers.HttpProvider(\"http://127.0.0.1:7545\");\n      }\n      this.web3 = new Web3(this.provider);\n      this.web3.eth.getAccounts().then(accs => {\n        this.defaultAddress = accs[0]\n        console.log(accs)\n        eggWallet().then((res) => {\n          console.log('EGG指定钱包地址:', res)\n          // console.log(res)\n          this.EGG = res\n          Toast.clear();\n        });\n      })\n    },\n    // 复制\n    copy() {\n      this.$copyText(this.EGG).then(function (e) {\n        Toast('复制成功');\n        console.log(e)\n      }, function (e) {\n        Toast('复制失败');\n        console.log(e)\n      })\n    },\n    routerindex(){\n      this.$router.push({ path: \"/verification\" });\n    },\n    eggCodes(){\n      eggCodes(this.defaultAddress).then((res) => {\n        console.log(res)\n      });\n    }\n  }\n}\n</script>\n<style>\n.border_bottom{\n  padding-bottom: 5%;\n  border-bottom: 1px dashed #7C7C7D;\n}\nhtml, body {\n  background: #16171D;\n}\n.canvas_code canvas {\n  color: #ffffff;\n  background: #ffffff;\n  border: 2px solid #F2CD36;\n  box-sizing: border-box;\n  border-radius: .6rem;\n}\n</style>\n<style scoped>\n.successico{width: 60px;height: 60px;background:url(../../assets/image/finishico.png)no-repeat;background-size: 100% 100%;margin: 0 auto;margin-top: 10%;}\n.egg_title_txt {\n  background-image: -webkit-linear-gradient(right, #F5D037, #E9B410);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-size: 1rem;\n  font-weight: bold;\n}\n\n.egg_title {\n  width: 90%;\n  display: flex;\n}\n.justify-content_center{    justify-content: center;}\n.qr_code .egg_title{width: 100%;}\n.copybtn {\n  width: 30px;\n  height: 20px;\n  background: url(../../assets/image/copybutton.png) no-repeat;\n  background-size: 100% 100%;\n}\n</style>\n"]}]}