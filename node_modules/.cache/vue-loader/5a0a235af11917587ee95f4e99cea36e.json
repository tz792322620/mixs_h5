{"remainingRequest":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sanxun/Downloads/egg_bsc-master/src/views/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sanxun/Downloads/egg_bsc-master/src/views/index/index.vue","mtime":1645364759094},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/babel-loader/lib/index.js","mtime":1644989844828},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/cache-loader/dist/cjs.js","mtime":1644989844798},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/vue-loader/lib/index.js","mtime":1644989857412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Q29sbGFwc2UsIENvbGxhcHNlSXRlbSwgRmllbGQsIERpYWxvZywgVG9hc3QsIExvYWRpbmd9IGZyb20gInZhbnQiOwppbXBvcnQgewogICBNYXBwaW5nLCBlZ2dBZGRyLEFkZHJzbWFwcGluZyxlZ2dXYWxsZXQsZWdnRmVlCn0gZnJvbSAiQC91dGlscy9NYXBwaW5nIjsKaW1wb3J0IFdlYjMgZnJvbSAid2ViMyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaW5kZXgiLAogIGluamVjdDogWydyZWxvYWQnXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3JUZXh0OiIiLAogICAgICBhY3RpdmVOYW1lczogWycxJ10sCiAgICAgIGVnZ2lucHV0OiAiIiwKICAgICAgZGVmYXVsdEFkZHJlc3M6ICcnLAogICAgICBmZWU6ICcnLAogICAgICBkaWFsb2c6ICcnLAogICAgICBFR0dhZGRyOiAnJywKICAgICAgYmluZDogdHJ1ZSwKICAgICAgRUdHOiAnJywKICAgICAgc2VlOiAnMCcsCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mbigpOwogIH0sCiAgd2F0Y2g6IHsKICAgICJlZ2dpbnB1dCI6IGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgewogICAgICBjb25zb2xlLmxvZygi5paw5YC8IiwgbmV3VmFsKTsKICAgICAgY29uc29sZS5sb2coIuaXp+WAvCIsIG9sZFZhbCk7CiAgICAgIGxldCBhID0gbmV3VmFsLnN1YnN0cmluZygwLDEpOyAvL3N0cgogICAgICBpZihhIT0nRScgJiYgbmV3VmFsIT0iIil7CiAgICAgICAgVG9hc3QoJ+ivt+i+k+WFpeato+ehrkVHR+WcsOWdgCcpOwogICAgICAgICAgdGhpcy5lZ2dpbnB1dCA9ICIiOwogICAgICB9CgogICAgfQogIH0sCgogIGNvbXBvbmVudHM6IHsKICAgIFtDb2xsYXBzZS5uYW1lXTogQ29sbGFwc2UsCiAgICBbQ29sbGFwc2VJdGVtLm5hbWVdOiBDb2xsYXBzZUl0ZW0sCiAgICBbRmllbGQubmFtZV06IEZpZWxkLAogICAgW0RpYWxvZy5uYW1lXTogRGlhbG9nLAogICAgW0RpYWxvZy5Db21wb25lbnQubmFtZV06IERpYWxvZy5Db21wb25lbnQsCiAgICBbVG9hc3QubmFtZV06IFRvYXN0LAogICAgW0xvYWRpbmcubmFtZV06IExvYWRpbmcKICB9LAogIC8v5Yid5aeL5YyWCiAgYXN5bmMgY3JlYXRlZCgpewogICAgLy/nvZHnu5zmt7vliqDliIfmjaIKICAgIGF3YWl0IHRoaXMuZ2V0Q2hhaW5JZCgpCiAgICBhd2FpdCB0aGlzLmluaXRXZWIzQWNjb3VudCgpCiAgICBhd2FpdCB0aGlzLnNlZXMoKQoKICB9LAoKICBtZXRob2RzOiB7CiAgICAvL+WIpOaWreaYr+WQpumqjOivgQogICAgYXN5bmMgc2VlcygpewogICAgICBpZiAodGhpcy5zZWUgPT0gMSl7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICIvdmVyaWZpY2F0aW9uIn0pOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgaW5pdFdlYjNBY2NvdW50KCkgewogICAgICBUb2FzdC5sb2FkaW5nKHsKICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICBtZXNzYWdlOiAiTG9hZGluZy4uIiwKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZQogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coImluaXRXZWIzQWNjb3VudCDmlrnms5XmiafooYzkuoYtLS0tLS0tIik7CiAgICAgIC8vIOajgOafpeaWsOeJiE1ldGFNYXNrCiAgICAgIGlmICh3aW5kb3cuZXRoZXJldW0pIHsKICAgICAgICB0aGlzLnByb3ZpZGVyID0gd2luZG93LmV0aGVyZXVtOwogICAgICAgIHRyeSB7CiAgICAgICAgICAvLyDor7fmsYLnlKjmiLfotKblj7fmjojmnYMKICAgICAgICAgIGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5lbmFibGUoKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgLy8g55So5oi35ouS57ud5LqG6K6/6ZeuCiAgICAgICAgICBjb25zb2xlLmxvZygiVXNlciBkZW5pZWQgYWNjb3VudCBhY2Nlc3MiKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8g6ICB54mIIE1ldGFNYXNrCiAgICAgIGVsc2UgaWYgKHdpbmRvdy53ZWIzKSB7CiAgICAgICAgdGhpcy5wcm92aWRlciA9IHdpbmRvdy53ZWIzLmN1cnJlbnRQcm92aWRlcjsKICAgICAgfQogICAgICAvLyDlpoLmnpzmsqHmnInms6jlhaXnmoR3ZWIz5a6e5L6L77yM5Zue6YCA5Yiw5L2/55SoIEdhbmFjaGUKICAgICAgZWxzZSB7CiAgICAgICAgYWxlcnQoIuivt+WuieijhU1ldGFNYXNrISIpOwogICAgICAgIHRoaXMucHJvdmlkZXIgPSBuZXcgV2ViMy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKCJodHRwOi8vMTI3LjAuMC4xOjc1NDUiKTsKICAgICAgfQogICAgICB0aGlzLndlYjMgPSBuZXcgV2ViMyh0aGlzLnByb3ZpZGVyKTsKICAgICAgdGhpcy53ZWIzLmV0aC5nZXRBY2NvdW50cygpLnRoZW4oYWNjcyA9PiB7CiAgICAgICAgdGhpcy5kZWZhdWx0QWRkcmVzcyA9IGFjY3NbMF0KICAgICAgICBjb25zb2xlLmxvZyhhY2NzKQogICAgICAgIEFkZHJzbWFwcGluZyh0aGlzLmRlZmF1bHRBZGRyZXNzKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIC8vY29uc29sZS5sb2coJ+afpeivouWcsOWdgOaYr+WQpuiiq+aYoOWwhDonLCByZXMpCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICBpZiAocmVzICE9PSAnJykgewogICAgICAgICAgICB0aGlzLkVHR2FkZHIgPSByZXMKICAgICAgICAgICAgdGhpcy5iaW5kID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuYWN0aXZlTmFtZXMgPSBbJzInXQogICAgICAgICAgICAvL+afpeivokVHR+mSseWMheWcsOWdgAogICAgICAgICAgICBlZ2dXYWxsZXQoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgICAgdGhpcy5FR0cgPSByZXMKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgVG9hc3QuY2xlYXIoKTsKICAgICAgfSkKICAgIH0sCgogICAgTWFwcGluZ0J0bigpIHsKICAgICAgaWYgKHRoaXMuZWdnaW5wdXQgIT09ICcnKSB7CiAgICAgICAgVG9hc3QubG9hZGluZyh7CiAgICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICAgIG1lc3NhZ2U6ICJMb2FkaW5nLi4iLAogICAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUKICAgICAgICB9KTsKICAgICAgICAvL+afpeivouaJi+e7rei0uQogICAgICAgIGVnZ0ZlZSgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgdGhpcy5mZWUgPSByZXMKICAgICAgICB9KTsKCiAgICAgICAgLy8g5p+l6K+i5Zyw5Z2A5piv5ZCm6KKr57uR5a6a6L+HCiAgICAgICAgY29uc29sZS5sb2coJ2VnZ0FkZHInLCB0aGlzLmVnZ2lucHV0KQogICAgICAgIGVnZ0FkZHIodGhpcy5lZ2dpbnB1dCkKICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlZ2dyZXMnLCByZXMpCiAgICAgICAgICAgICAgVG9hc3QuY2xlYXIoKTsKICAgICAgICAgICAgICBpZiAocmVzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBEaWFsb2cuYWxlcnQoewogICAgICAgICAgICAgICAgICB0aXRsZTogJ+W3suiiq+e7keWumicsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFR0fpk77pkrHljIXlnLDlnYDlt7Looqvnu5HlrprvvIzor7fnoa7kv53nu5HlrprnmoTmmK/mnKzkurrnmoRCTkLpkrHljIXlnLDlnYAnLAogICAgICAgICAgICAgICAgICB0aGVtZTogJ3JvdW5kLWJ1dHRvbicsCiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogImNvbmZpcm1fZGlhbG9nIGRpYWxvZ19hbGVydCIsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi5aW955qEIgogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuZWdnaW5wdXQgPSAnJwogICAgICAgICAgICAgICAgICBUb2FzdC5jbGVhcigpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIERpYWxvZy5jb25maXJtKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICfnoa7orqTnu5HlrponLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn57uR5a6a5ZCO77yMRUdH6ZKx5YyF6L2s5biB5Yiw5oyH5a6a5Zyw5Z2A5bCG5pig5bCE6L2s5YiwQk5C6ZKx5YyF77yM6K+356Gu5L+d5Lik5Liq5Zyw5Z2A5bGe5LqO5oKo5pys5Lq6JywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7orqTnu5HlrpoiLAogICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICJjb25maXJtX2RpYWxvZyIKICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgVG9hc3QubG9hZGluZyh7CiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi6K+3562J5b6FLi4iLAogICAgICAgICAgICAgICAgICAgICAgICBmb3JiaWRDbGljazogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAvL+aJi+e7rei0ueafpeivogogICAgICAgICAgICAgICAgICAgICAgLy8g5Zyw5Z2A5pig5bCECiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYWRkcmRkZGQnLCB0aGlzLmZlZSkKICAgICAgICAgICAgICAgICAgICAgIE1hcHBpbmcodGhpcy5kZWZhdWx0QWRkcmVzcywgdGhpcy5lZ2dpbnB1dCx0aGlzLmZlZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdC5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi57uR5a6a5oiQ5YqfIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICIvdmVyaWZpY2F0aW9uIn0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QuY2xlYXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIkZhaWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogODAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWdnaW5wdXQgPSAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnYnNjZXJyb3InLCBlKQogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgLy8gb24gY29uZmlybQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgIFRvYXN0LmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVnZ2lucHV0ID0gJycKICAgICAgICAgICAgICAgICAgICAgIC8vIG9uIGNhbmNlbAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgVG9hc3QuY2xlYXIoKTsKICAgICAgICAgICAgICBUb2FzdCh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAiRmFpbCIsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogODAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5lZ2dpbnB1dCA9ICcnCiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2JzY2Vycm9yJywgZSkKICAgICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgVG9hc3QoIlBsZWFzZSBlbnRlciBFR0cgYWRkcmVzcyIpOwogICAgICB9CgogICAgfSwKICAgIC8vIOWkjeWItgogICAgY29weSgpIHsKICAgICAgdGhpcy4kY29weVRleHQodGhpcy5FR0cpLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICBUb2FzdCgn5aSN5Yi25oiQ5YqfJyk7CiAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBUb2FzdCgn5aSN5Yi25aSx6LSlJyk7CiAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgfSkKICAgIH0sCiAgICBmbigpIHsKICAgICAgd2luZG93LmV0aGVyZXVtLm9uKCJhY2NvdW50c0NoYW5nZWQiLCBmdW5jdGlvbihhY2NvdW50cykgewogICAgICAgIGNvbnNvbGUubG9nKGFjY291bnRzWzBdKTsvL+S4gOaXpuWIh+aNoui0puWPt+i/memHjOWwseS8muaJp+ihjAogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSk7CgogICAgICB3aW5kb3cuZXRoZXJldW0ub24oImNoYWluQ2hhbmdlZCIsKCk9PnsKICAgICAgICBjb25zb2xlLmxvZygn6ZO+5YiH5o2iJykKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGdldENoYWluSWQoKXsKICAgICAgbGV0IGlkID0gd2luZG93LmV0aGVyZXVtLmNoYWluSWQ7CiAgICAgIGNvbnNvbGUubG9nKGlkKQogICAgICBpZihpZCAhPSAnMHg2MScpewogICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9hZGRFdGhlcmV1bUNoYWluJywgLy8gTWV0YW1hc2vnmoRhcGnlkI3np7AKICAgICAgICAgIHBhcmFtczogW3sKICAgICAgICAgICAgY2hhaW5JZDogIjB4NjEiLCAvLyDnvZHnu5xpZO+8jDE26L+b5Yi255qE5a2X56ym5LiyCiAgICAgICAgICAgIGNoYWluTmFtZTogIkJpbmFuY2UgU21hcnQgQ2hhaW4gVGVzdG5ldCIsIC8vIOa3u+WKoOWIsOmSseWMheWQjuaYvuekuueahOe9kee7nOWQjeensAogICAgICAgICAgICBycGNVcmxzOiBbCiAgICAgICAgICAgICAgJ2h0dHBzOi8vZGF0YS1zZWVkLXByZWJzYy0xLXMxLmJpbmFuY2Uub3JnOjg1NDUvJywgLy8gcnBj5Zyw5Z2ACiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGljb25VcmxzOiBbCiAgICAgICAgICAgICAgJ2h0dHBzOi8vdGVzdG5ldC5oZWNvaW5mby5jb20vZmF2aWNvbi5wbmcnIC8vIOe9kee7nOeahOWbvuagh++8jOaaguaXtuayoeeci+WIsOWcqOWTqumHjOS8muaYvuekugogICAgICAgICAgICBdLAogICAgICAgICAgICBibG9ja0V4cGxvcmVyVXJsczogWwogICAgICAgICAgICAgICdodHRwczovL3Rlc3RuZXQuYnNjc2Nhbi5jb20vJyAvLyDnvZHnu5zlr7nlupTnmoTljLrlnZfmtY/op4jlmagKICAgICAgICAgICAgXSwKICAgICAgICAgICAgbmF0aXZlQ3VycmVuY3k6IHsgIC8vIOe9kee7nOS4u+W4geeahOS/oeaBrwogICAgICAgICAgICAgIG5hbWU6ICd0Qk5CJywKICAgICAgICAgICAgICBzeW1ib2w6ICd0Qk5CJywKICAgICAgICAgICAgICBkZWNpbWFsczogMTgKICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9KTsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgY29uc29sZS5sb2coJ25vJykKICAgICAgfWVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCd5ZXMnKQogICAgICB9CgogICAgICAvL++8gemTvmlk5LiN5piv6ams5LiK5ou/5Yiw55qE77yM5aaC5p6c6YCa6L+H6ZO+aWTmnaXliKTmlq3mmK/kuI3mmK/kuLvnvZHnmoTmlrnlvI/vvIzor7fms6jmhI/lvILmraUKICAgIH0sCgogIH0sCiAgZmlsdGVyczogewogICAgZWxsaXBzaXModmFsdWUpIHsKICAgICAgbGV0IGxlbiA9IHZhbHVlLmxlbmd0aDsKICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuICIiOwogICAgICBpZiAodmFsdWUubGVuZ3RoID4gOCkgewogICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcoMCwgMTUpICsgIi4uLiIgKyB2YWx1ZS5zdWJzdHJpbmcobGVuIC0gMTUsIGxlbik7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbHVlOwogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/index","sourcesContent":["<template>\n  <div class=\"w100s\">\n    <div class=\"s0 f16 center mt2\">ETF映射</div>\n    <van-collapse v-model=\"activeNames\" class=\"instruction_top s0 p2\">\n      <van-collapse-item title=\"绑定流程说明\" name=\"1\">\n        1.用BSC链的钱包地址绑定EGG链的钱包地址。 <br>\n        2.绑定成功后，先从EGG链转一笔系统生成的验签码的EGG到验证地址，转入的验签数量一致，则验证成功。 <br>\n        3.验证成功后，从EGG链的钱包地址转币到平台指定地址的币才能映射成功。\n      </van-collapse-item>\n    </van-collapse>\n    <div class=\"addrbg\">\n      <p class=\"s0 f10\">\n        绑定钱包地址\n      </p>\n      <div>\n        <div class=\"egg_title \">\n          <div class=\"egg_title_txt\">当前地址</div>\n        </div>\n        <div class=\"s0 f10 addr\">{{ defaultAddress | ellipsis }}</div>\n      </div>\n      <div>\n        <div class=\"egg_title mt1\">\n          <div class=\"egg_title_txt\">绑定EGG链钱包地址</div>\n        </div>\n        <van-field v-show=\"bind\" v-model=\"egginput\" class=\"egginput mt2\"\n                    placeholder=\"请输入要绑定的EGG链地址\"/>\n        <div class=\"s0 f10\" v-show=\"!bind\">{{ EGGaddr }}</div>\n      </div>\n    </div>\n    <div class=\"border_radius f16\" v-show=\"bind\">\n      <div class=\"egg_title mt2\">\n        <div class=\"egg_title_txt\" @click=\"MappingBtn\">确认绑定</div>\n      </div>\n    </div>\n    <div class=\"qr_code\" v-show=\"!bind\">\n      <div class=\"egg_title mt4\">\n        <div class=\"egg_title_txt ccbg mb2\">EGG指定转入钱包地址</div>\n      </div>\n      <qriously :value='EGG' :size='125' class='canvas_code center'/>\n      <div class=\"flex justify-content_center mt2 pl5 pr5\">\n        <div class=\"s0 mr2\">{{ EGG }}</div>\n        <div class=\"copybtn\" :data-clipboard-text=\"this.EGG\" id=\"express_info_right\" @click=\"copy()\"></div>\n      </div>\n    </div>\n    <div class=\"p5 s1 f10\">温馨提示：<br>\n      请确保EGG钱包地址和币安钱包地址都属于本人，一旦绑定将无法解除，请慎重绑定钱包地址。\n    </div>\n  </div>\n</template>\n\n<script>\nimport {Collapse, CollapseItem, Field, Dialog, Toast, Loading} from \"vant\";\nimport {\n   Mapping, eggAddr,Addrsmapping,eggWallet,eggFee\n} from \"@/utils/Mapping\";\nimport Web3 from \"web3\";\nexport default {\n  name: \"index\",\n  inject: ['reload'],\n  data() {\n    return {\n      errorText:\"\",\n      activeNames: ['1'],\n      egginput: \"\",\n      defaultAddress: '',\n      fee: '',\n      dialog: '',\n      EGGaddr: '',\n      bind: true,\n      EGG: '',\n      see: '0',\n    }\n  },\n  mounted() {\n    this.fn();\n  },\n  watch: {\n    \"egginput\": function (newVal, oldVal) {\n      console.log(\"新值\", newVal);\n      console.log(\"旧值\", oldVal);\n      let a = newVal.substring(0,1); //str\n      if(a!='E' && newVal!=\"\"){\n        Toast('请输入正确EGG地址');\n          this.egginput = \"\";\n      }\n\n    }\n  },\n\n  components: {\n    [Collapse.name]: Collapse,\n    [CollapseItem.name]: CollapseItem,\n    [Field.name]: Field,\n    [Dialog.name]: Dialog,\n    [Dialog.Component.name]: Dialog.Component,\n    [Toast.name]: Toast,\n    [Loading.name]: Loading\n  },\n  //初始化\n  async created(){\n    //网络添加切换\n    await this.getChainId()\n    await this.initWeb3Account()\n    await this.sees()\n\n  },\n\n  methods: {\n    //判断是否验证\n    async sees(){\n      if (this.see == 1){\n        this.$router.push({path: \"/verification\"});\n      }\n    },\n    async initWeb3Account() {\n      Toast.loading({\n        duration: 0,\n        message: \"Loading..\",\n        forbidClick: true\n      });\n      console.log(\"initWeb3Account 方法执行了-------\");\n      // 检查新版MetaMask\n      if (window.ethereum) {\n        this.provider = window.ethereum;\n        try {\n          // 请求用户账号授权\n          await window.ethereum.enable();\n        } catch (error) {\n          // 用户拒绝了访问\n          console.log(\"User denied account access\");\n        }\n      }\n      // 老版 MetaMask\n      else if (window.web3) {\n        this.provider = window.web3.currentProvider;\n      }\n      // 如果没有注入的web3实例，回退到使用 Ganache\n      else {\n        alert(\"请安装MetaMask!\");\n        this.provider = new Web3.providers.HttpProvider(\"http://127.0.0.1:7545\");\n      }\n      this.web3 = new Web3(this.provider);\n      this.web3.eth.getAccounts().then(accs => {\n        this.defaultAddress = accs[0]\n        console.log(accs)\n        Addrsmapping(this.defaultAddress).then((res) => {\n          //console.log('查询地址是否被映射:', res)\n          console.log(res)\n          if (res !== '') {\n            this.EGGaddr = res\n            this.bind = false;\n            this.activeNames = ['2']\n            //查询EGG钱包地址\n            eggWallet().then((res) => {\n              console.log(res)\n              this.EGG = res\n            });\n          }\n        });\n        Toast.clear();\n      })\n    },\n\n    MappingBtn() {\n      if (this.egginput !== '') {\n        Toast.loading({\n          duration: 0,\n          message: \"Loading..\",\n          forbidClick: true\n        });\n        //查询手续费\n        eggFee().then((res) => {\n          console.log(res)\n          this.fee = res\n        });\n\n        // 查询地址是否被绑定过\n        console.log('eggAddr', this.egginput)\n        eggAddr(this.egginput)\n            .then((res) => {\n              console.log('eggres', res)\n              Toast.clear();\n              if (res === true) {\n                Dialog.alert({\n                  title: '已被绑定',\n                  message: 'EGG链钱包地址已被绑定，请确保绑定的是本人的BNB钱包地址',\n                  theme: 'round-button',\n                  className: \"confirm_dialog dialog_alert\",\n                  confirmButtonText: \"好的\"\n                }).then(() => {\n                  this.egginput = ''\n                  Toast.clear();\n                });\n              } else {\n                Dialog.confirm({\n                  title: '确认绑定',\n                  message: '绑定后，EGG钱包转币到指定地址将映射转到BNB钱包，请确保两个地址属于您本人',\n                  confirmButtonText: \"确认绑定\",\n                  className: \"confirm_dialog\"\n                }).then(() => {\n                      Toast.loading({\n                        duration: 0,\n                        message: \"请等待..\",\n                        forbidClick: true\n                      });\n                      //手续费查询\n                      // 地址映射\n                      console.log('addrdddd', this.fee)\n                      Mapping(this.defaultAddress, this.egginput,this.fee)\n                          .then((res) => {\n                            Toast.clear();\n                            Toast({\n                              message: \"绑定成功\",\n                              duration: 1000\n                            });\n                            setTimeout(() => {\n                              console.log(res)\n                              this.$router.push({path: \"/verification\"});\n                            }, 2000);\n                          })\n                          .catch(() => {\n                            Toast.clear();\n                            Toast({\n                              message: \"Fail\",\n                              duration: 800\n                            });\n                            this.egginput = ''\n                            //console.log('bscerror', e)\n                          });\n                      // on confirm\n                    })\n                    .catch(() => {\n                      Toast.clear();\n                      this.egginput = ''\n                      // on cancel\n                    });\n              }\n            })\n            .catch((e) => {\n              Toast.clear();\n              Toast({\n                message: \"Fail\",\n                duration: 800\n              });\n              this.egginput = ''\n              console.log('bscerror', e)\n            });\n      } else {\n        Toast(\"Please enter EGG address\");\n      }\n\n    },\n    // 复制\n    copy() {\n      this.$copyText(this.EGG).then(function (e) {\n        Toast('复制成功');\n        console.log(e)\n      }, function (e) {\n        Toast('复制失败');\n        console.log(e)\n      })\n    },\n    fn() {\n      window.ethereum.on(\"accountsChanged\", function(accounts) {\n        console.log(accounts[0]);//一旦切换账号这里就会执行\n        window.location.reload();\n      });\n\n      window.ethereum.on(\"chainChanged\",()=>{\n        console.log('链切换')\n        window.location.reload();\n      });\n    },\n    async getChainId(){\n      let id = window.ethereum.chainId;\n      console.log(id)\n      if(id != '0x61'){\n        window.ethereum.request({\n          method: 'wallet_addEthereumChain', // Metamask的api名称\n          params: [{\n            chainId: \"0x61\", // 网络id，16进制的字符串\n            chainName: \"Binance Smart Chain Testnet\", // 添加到钱包后显示的网络名称\n            rpcUrls: [\n              'https://data-seed-prebsc-1-s1.binance.org:8545/', // rpc地址\n            ],\n            iconUrls: [\n              'https://testnet.hecoinfo.com/favicon.png' // 网络的图标，暂时没看到在哪里会显示\n            ],\n            blockExplorerUrls: [\n              'https://testnet.bscscan.com/' // 网络对应的区块浏览器\n            ],\n            nativeCurrency: {  // 网络主币的信息\n              name: 'tBNB',\n              symbol: 'tBNB',\n              decimals: 18\n            }\n          }]\n        });\n        window.location.reload();\n        console.log('no')\n      }else {\n        console.log('yes')\n      }\n\n      //！链id不是马上拿到的，如果通过链id来判断是不是主网的方式，请注意异步\n    },\n\n  },\n  filters: {\n    ellipsis(value) {\n      let len = value.length;\n      if (!value) return \"\";\n      if (value.length > 8) {\n        return value.substring(0, 15) + \"...\" + value.substring(len - 15, len);\n      }\n      return value;\n    },\n  },\n}\n</script>\n<style>\n.flex1 {\n  flex: 1;\n}\n\n.van-cell::after {\n  border-bottom: 0;\n}\n\n.van-field__control {\n  color: #ffffff\n}\n\n.canvas_code canvas {\n  color: #ffffff;\n  background: #ffffff;\n  border: 2px solid #F2CD36;\n  box-sizing: border-box;\n  border-radius: .6rem;\n}\n\n.dialog_alert.confirm_dialog .van-dialog__footer {\n  padding: 8px 24px 5px;\n}\n\n.dialog_alert .van-goods-action-button--danger {\n  background: none\n}\n\n.dialog_alert.confirm_dialog .van-button__content {\n  border-right: 0;\n}\n.van-cell__right-icon {\n  margin-right: 10rem;\n}\nhtml, body {\n  background: #16171D;\n}\n\n/*折叠面板*/\n.instruction_top .van-cell, .instruction_top .van-collapse-item__content {\n  background: none;\n  color: #ffffff;\n  font-size: 1rem;\n}\n\n.instruction_top .van-collapse-item__content {\n  font-size: 0.8rem;\n}\n\n.van-hairline--top-bottom::after, .van-hairline-unset--top-bottom::after {\n  border-width: 0 0;\n}\n\n.instruction_top .van-cell::after {\n  border-bottom: 0px solid #ebedf0;\n  color: #ffffff;\n}\n\n[class*=van-hairline]::after {\n  border: 0 solid #F2CD36;\n}\n\n.van-dialog {\n  /*border: 2px solid #F2CD36;*/\n  box-sizing: border-box;\n  /*background-color: #16171D;*/\n  border: solid 2px transparent;\n  border-radius: 10px;\n  background-image: linear-gradient(#16171D, #16171D),\n  linear-gradient(to right, #F5D037, #E9B410);\n  background-origin: border-box;\n  background-clip: content-box, border-box;\n}\n\n.van-button--default {\n  background-color: #16171D\n}\n\n.confirm_dialog .van-dialog__header, .confirm_dialog .van-dialog__message--has-title, .confirm_dialog .van-button--default {\n  color: #ffffff;\n}\n\n.confirm_dialog .van-dialog__footer {\n  border-top: 2px solid #F2CD36\n}\n\n.confirm_dialog .van-button__content {\n  border-right: 2px solid #F2CD36;\n}\n\n.van-dialog__cancel .van-button__text {\n  color: #666666\n}\n\n.van-hairline--left .van-button__content {\n  border-right: 0;\n}\n\n.van-goods-action {\n  background: none;\n}\n\n.van-dialog--round-button .van-dialog__message {\n  padding-top: 14px;\n  padding-bottom: 27px;\n}\n</style>\n<style scoped>\n.addr {\n  height: 1.2rem;\n  line-height: 1.2rem;\n  width: 86%;\n}\n\n.justify-content_center {\n  justify-content: center;\n}\n\n.qr_code .egg_title {\n  width: 100%;\n}\n\n.copybtn {\n  width: 30px;\n  height: 20px;\n  background: url(../../assets/image/copybutton.png) no-repeat;\n  background-size: 100% 100%;\n}\n\n\n.addrbg {\n  width: 85%;\n  margin: 0 auto;\n  background: url(../../assets/image/bg.png) no-repeat;\n  background-size: 100% auto;\n  padding-top: 5.5rem;\n  padding-left: 2rem;\n  padding-bottom: 5rem;\n}\n\n.egginput.van-cell {\n  background: none;\n  border: 1px solid #666666;\n  border-radius: 10px;\n  height: 30px;\n  padding: 0;\n  line-height: 30px;\n  font-size: 0.8rem;\n  width: 85%;\n}\n\n.egg_title_txt {\n  background-image: -webkit-linear-gradient(right, #F5D037, #E9B410);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-size: 1rem;\n  font-weight: bold;\n  margin-top: .5rem;\n}\n\n.egg_title {\n  width: 90%;\n  display: flex;\n}\n</style>\n"]}]}