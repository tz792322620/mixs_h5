{"remainingRequest":"/Users/sanxun/Downloads/cxc_bsc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sanxun/Downloads/cxc_bsc/node_modules/vue2-verify/src/components/Verify/VerifyPoints.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/vue2-verify/src/components/Verify/VerifyPoints.vue","mtime":1646118464909},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/cache-loader/dist/cjs.js","mtime":1644989844798},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/babel-loader/lib/index.js","mtime":1644989844828},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/cache-loader/dist/cjs.js","mtime":1644989844798},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/vue-loader/lib/index.js","mtime":1644989857412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKgogKiBWZXJpZnlQb2ludHMKICogQGRlc2NyaXB0aW9uIOeCuemAiQogKiAqLwoKaW1wb3J0IHtyZXNldFNpemUsIF9jb2RlX2NoYXJzLCBfY29kZV9jb2xvcjEsIF9jb2RlX2NvbG9yMn0gZnJvbSAnLi4vLi4vbGliL3V0aWwnCgpmdW5jdGlvbiBnZXRPZmZzZXQoTm9kZSwgb2Zmc2V0ID0ge3RvcDogMCwgbGVmdDogMH0pIHsKICAgIGlmIChOb2RlID09IGRvY3VtZW50LmJvZHkpIHsvL+W9k+ivpeiKgueCueS4umJvZHnoioLngrnml7bvvIznu5PmnZ/pgJLlvZIKICAgICAgICByZXR1cm4gb2Zmc2V0OwogICAgfQoKICAgIG9mZnNldC50b3AgKz0gTm9kZS5vZmZzZXRUb3A7CiAgICBvZmZzZXQubGVmdCArPSBOb2RlLm9mZnNldExlZnQ7CgogICAgcmV0dXJuIGdldE9mZnNldChOb2RlLnBhcmVudE5vZGUsIG9mZnNldCk7Ly/lkJHkuIrntK/liqBvZmZzZXTph4znmoTlgLwKfQoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1ZlcmlmeVBvaW50cycsCiAgICBwcm9wczogewogICAgICAgIC8v5by55Ye65byPcG9w77yM5Zu65a6aZml4ZWQKICAgICAgICBtb2RlOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogJ2ZpeGVkJwogICAgICAgIH0sCiAgICAgICAgLy/pu5jorqTnmoTmloflrZfmlbDph48KICAgICAgICBkZWZhdWx0TnVtOiB7CiAgICAgICAgICAgIHR5cGU6IE51bWJlciwKICAgICAgICAgICAgZGVmYXVsdDogNAogICAgICAgIH0sCiAgICAgICAgLy/moKHlr7nnmoTmloflrZfmlbDph48KICAgICAgICBjaGVja051bTogewogICAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICAgIGRlZmF1bHQ6IDMKICAgICAgICB9LAogICAgICAgIC8v6Ze06ZqUCiAgICAgICAgdlNwYWNlOiB7CiAgICAgICAgICAgIHR5cGU6IE51bWJlciwKICAgICAgICAgICAgZGVmYXVsdDogNQogICAgICAgIH0sCiAgICAgICAgaW1nVXJsOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogJ2h0dHA6Ly92aWEucGxhY2Vob2xkZXIuY29tLycKICAgICAgICB9LAogICAgICAgIGltZ05hbWU6IHsKICAgICAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gWyczNTB4MTUwJywgJzM1MHg0NTAnXQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBpbWdTaXplOiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgZGVmYXVsdCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICc0MDBweCcsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMjAwcHgnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGJhclNpemU6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICBkZWZhdWx0KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzQwMHB4JywKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICc0MHB4JwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZm9udFBvczogW10sIC8vIOmAieS4reeahOWdkOagh+S/oeaBrwogICAgICAgICAgICBjaGVja1Bvc0FycjogW10sIC8v55So5oi354K55Ye755qE5Z2Q5qCHCiAgICAgICAgICAgIG51bTogMSwvL+eCueWHu+eahOiusOaVsAogICAgICAgICAgICBpbWdSYW5kOiAwLCAvLyAvL+maj+acuueahOiDjOaZr+WbvueJhwogICAgICAgICAgICBzZXRTaXplOiB7CiAgICAgICAgICAgICAgICBpbWdIZWlnaHQ6IDAsCiAgICAgICAgICAgICAgICBpbWdXaWR0aDogMCwKICAgICAgICAgICAgICAgIGJhckhlaWdodDogMCwKICAgICAgICAgICAgICAgIGJhcldpZHRoOiAwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNob3dJbWFnZTogdHJ1ZSwKICAgICAgICAgICAgdGVtcFBvaW50czogW10sCiAgICAgICAgICAgIHRleHQ6ICcnLAogICAgICAgICAgICBiYXJBcmVhQ29sb3I6IHVuZGVmaW5lZCwKICAgICAgICAgICAgYmFyQXJlYUJvcmRlckNvbG9yOiB1bmRlZmluZWQsCiAgICAgICAgICAgIHNob3dSZWZyZXNoOiB0cnVlLAogICAgICAgICAgICBiaW5kaW5nQ2xpY2s6IHRydWUKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICByZXNldFNpemUoKSB7CiAgICAgICAgICAgIHJldHVybiByZXNldFNpemUKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGluaXQoKSB7CiAgICAgICAgICAgIC8v5Yqg6L296aG16Z2iCiAgICAgICAgICAgIHRoaXMuZm9udFBvcy5zcGxpY2UoMCwgdGhpcy5mb250UG9zLmxlbmd0aCkKICAgICAgICAgICAgdGhpcy5jaGVja1Bvc0Fyci5zcGxpY2UoMCwgdGhpcy5jaGVja1Bvc0Fyci5sZW5ndGgpCiAgICAgICAgICAgIHRoaXMubnVtID0gMQogICAgICAgICAgICB0aGlzLmltZ1JhbmQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmltZ05hbWUubGVuZ3RoKQoKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zZXRTaXplID0gdGhpcy5yZXNldFNpemUodGhpcykJLy/ph43mlrDorr7nva7lrr3luqbpq5jluqYKICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpOwogICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LiRlbWl0KCdyZWFkeScsIHRoaXMpCiAgICAgICAgICAgIH0pCgogICAgICAgIH0sCiAgICAgICAgY2FudmFzQ2xpY2soZSkgewogICAgICAgICAgICB0aGlzLmNoZWNrUG9zQXJyLnB1c2godGhpcy5nZXRNb3VzZVBvcyh0aGlzLiRyZWZzLmNhbnZhcywgZSkpOwogICAgICAgICAgICBpZiAodGhpcy5udW0gPT0gdGhpcy5jaGVja051bSkgewoKICAgICAgICAgICAgICAgIHRoaXMubnVtID0gdGhpcy5jcmVhdGVQb2ludCh0aGlzLmdldE1vdXNlUG9zKHRoaXMuJHJlZnMuY2FudmFzLCBlKSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZyA9IHRoaXMuY29tcGFyZVBvcyh0aGlzLmZvbnRQb3MsIHRoaXMuY2hlY2tQb3NBcnIpOwogICAgICAgICAgICAgICAgICAgIGlmIChmbGFnID09IGZhbHNlKSB7CS8v6aqM6K+B5aSx6LSlCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC4kZW1pdCgnZXJyb3InLCB0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhckFyZWFDb2xvciA9ICcjZDk1MzRmJwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhckFyZWFCb3JkZXJDb2xvciA9ICcjZDk1MzRmJwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSAn6aqM6K+B5aSx6LSlJwoKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgNDAwKTsKCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsJLy/pqozor4HmiJDlip8KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXJBcmVhQ29sb3IgPSAnIzRjYWU0YycKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXJBcmVhQm9yZGVyQ29sb3IgPSAnIzVjYjg1YycKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gJ+mqjOivgeaIkOWKnycKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93UmVmcmVzaCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmluZGluZ0NsaWNrID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LiRlbWl0KCdzdWNjZXNzJywgdGhpcykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCA0MDApOwoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRoaXMubnVtIDwgdGhpcy5jaGVja051bSkgewogICAgICAgICAgICAgICAgdGhpcy5udW0gPSB0aGlzLmNyZWF0ZVBvaW50KHRoaXMuZ2V0TW91c2VQb3ModGhpcy4kcmVmcy5jYW52YXMsIGUpKTsKICAgICAgICAgICAgfQoKICAgICAgICB9LAogICAgICAgIC8v57uY5Yi25ZCI5oiQ55qE5Zu+54mHCiAgICAgICAgZHJhd0ltZzogZnVuY3Rpb24gKG9iaiwgaW1nKSB7CiAgICAgICAgICAgIC8v5YeG5aSHY2FudmFz546v5aKDCiAgICAgICAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLmNhbnZhczsKICAgICAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwoKICAgICAgICAgICAgLy8g57uY5Yi25Zu+54mHCiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBwYXJzZUludCh0aGlzLnNldFNpemUuaW1nV2lkdGgpLCBwYXJzZUludCh0aGlzLnNldFNpemUuaW1nSGVpZ2h0KSk7CgogICAgICAgICAgICAvLyDnu5jliLbmsLTljbAKICAgICAgICAgICAgdmFyIGZvbnRTaXplQXJyID0gWydpdGFsaWMgc21hbGwtY2FwcyBib2xkIDIwcHggbWljcm9zb2Z0IHlhaGVpJywgJ3NtYWxsLWNhcHMgbm9ybWFsIDI1cHggYXJpYWwnLCAnMzRweCBtaWNyb3NvZnQgeWFoZWknXTsKICAgICAgICAgICAgdmFyIGZvbnRTdHIgPSAn5aSp5Zyw546E6buE5a6H5a6Z5rSq6I2S5pel5pyI55uI5piD6L6w5a6/5YiX5byg5a+S5p2l5pqR5b6A56eL5pS25Yas6JeP6Zew5L2Z5oiQ5bKB5b6L5ZCV6LCD6Ziz5LqR6IW+6Ie06Zuo6Zyy57uT5Li66Zyc6YeR55Sf5Li95rC0546J5Ye65piG5YaI5YmR5Y+35beo6ZiZ54+g56ew5aSc5YWJ5p6c54+N5p2O5p+w6I+c6YeN6Iql5aec5rW35ZK45rKz5reh6bOe5r2c576957+U6b6Z5biI54Gr5bid6bif5a6Y5Lq655qH5aeL5Yi25paH5a2X5LmD5pyN6KGj6KOz5o6o5L2N6K6p5Zu95pyJ6Jme6Zm25ZSQ5ZCK5rCR5LyQ572q5ZGo5Y+R5q635rGk5Z2Q5pyd6Zeu6YGT5Z6C5oux5bmz56ug54ix6IKy6buO6aaW6Iej5LyP5oiO576M6YGQ6L+p5L2T546H5a6+5b2S546LJzsJLy/kuI3ph43lpI3nmoTmsYnlrZcKCgogICAgICAgICAgICB2YXIgZm9udENoYXJzID0gW107CgogICAgICAgICAgICB2YXIgYXZnID0gTWF0aC5mbG9vcihwYXJzZUludCh0aGlzLnNldFNpemUuaW1nV2lkdGgpIC8gKHBhcnNlSW50KHRoaXMuZGVmYXVsdE51bSkgKyAxKSk7CiAgICAgICAgICAgIHZhciB0bXBfaW5kZXggPSAnJzsKICAgICAgICAgICAgdmFyIGNvbG9yMk51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpOwoKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gdGhpcy5kZWZhdWx0TnVtOyBpKyspIHsKCiAgICAgICAgICAgICAgICBmb250Q2hhcnNbaSAtIDFdID0gdGhpcy5nZXRDaGFycyhmb250U3RyLCBmb250Q2hhcnMpOwoKICAgICAgICAgICAgICAgIHRtcF9pbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpOwogICAgICAgICAgICAgICAgY3R4LmZvbnQgPSBmb250U2l6ZUFyclt0bXBfaW5kZXhdOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IF9jb2RlX2NvbG9yMltjb2xvcjJOdW1dOwoKICAgICAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcF95ID0gTWF0aC5mbG9vcihwYXJzZUludCh0aGlzLnNldFNpemUuaW1nSGVpZ2h0KSAvIDIpICsgdG1wX2luZGV4ICogMjAgKyAyMAogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdG1wX3kgPSBNYXRoLmZsb29yKHBhcnNlSW50KHRoaXMuc2V0U2l6ZS5pbWdIZWlnaHQpIC8gMikgLSB0bXBfaW5kZXggKiAyMAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChmb250Q2hhcnNbaSAtIDFdLCBhdmcgKiBpLCB0bXBfeSk7CiAgICAgICAgICAgICAgICB0aGlzLmZvbnRQb3NbaSAtIDFdID0geydjaGFyJzogZm9udENoYXJzW2kgLSAxXSwgJ3gnOiBhdmcgKiBpLCAneSc6IHRtcF95fQogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICh0aGlzLmRlZmF1bHROdW0gLSB0aGlzLmNoZWNrTnVtKTsgaSsrKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNodWZmbGUodGhpcy5mb250UG9zKS5wb3AoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIG1zZ1N0ciA9ICcnOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZm9udFBvcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgbXNnU3RyICs9IHRoaXMuZm9udFBvc1tpXS5jaGFyICsgJywnOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLnRleHQgPSAn6K+36aG65bqP54K55Ye744CQJyArIG1zZ1N0ci5zdWJzdHJpbmcoMCwgbXNnU3RyLmxlbmd0aCAtIDEpICsgJ+OAkScKCiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvbnRQb3M7CiAgICAgICAgfSwKICAgICAgICAvL+iOt+WPluWdkOaghwogICAgICAgIGdldE1vdXNlUG9zOiBmdW5jdGlvbiAob2JqLCBlKSB7CiAgICAgICAgICAgIHZhciB4ID0gZS5vZmZzZXRYIC0gNQogICAgICAgICAgICB2YXIgeSA9IGUub2Zmc2V0WSAtIDUKCiAgICAgICAgICAgIHJldHVybiB7eCwgeX0KICAgICAgICB9LAogICAgICAgIC8v6YCS5b2S5Y676YeNCiAgICAgICAgZ2V0Q2hhcnM6IGZ1bmN0aW9uIChmb250U3RyLCBmb250Q2hhcnMpIHsKCiAgICAgICAgICAgIHZhciB0bXBfcmFuZCA9IHBhcnNlSW50KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGZvbnRTdHIubGVuZ3RoKSk7CiAgICAgICAgICAgIGlmICh0bXBfcmFuZCA+IDApIHsKICAgICAgICAgICAgICAgIHRtcF9yYW5kID0gdG1wX3JhbmQgLSAxOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgdG1wX2NoYXIgPSBmb250U3RyLmNoYXJBdCh0bXBfcmFuZCk7CiAgICAgICAgICAgIGlmIChmb250Q2hhcnMuaW5kZXhPZih0bXBfY2hhcikgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0bXBfY2hhcjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoYXJzKGZvbnRTdHIsIGZvbnRDaGFycyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8v5rSX54mM5pWw57uECiAgICAgICAgc2h1ZmZsZTogZnVuY3Rpb24gKGFycikgewogICAgICAgICAgICB2YXIgbSA9IGFyci5sZW5ndGgsIGk7CiAgICAgICAgICAgIHZhciB0bXBGOwogICAgICAgICAgICB3aGlsZSAobSkgewogICAgICAgICAgICAgICAgaSA9IChNYXRoLnJhbmRvbSgpICogbS0tKSA+Pj4gMDsKICAgICAgICAgICAgICAgIHRtcEYgPSBhcnJbbV07CiAgICAgICAgICAgICAgICBhcnJbbV0gPSBhcnJbaV07CiAgICAgICAgICAgICAgICBhcnJbaV0gPSB0bXBGOwogICAgICAgICAgICAgICAgLy9bYXJyW21dLCBhcnJbaV1dID0gW2FycltpXSwgYXJyW21dXTsJLy/kvY7niYjmnKzmtY/op4jlmajkuI3mlK/mjIHmraTlhpnms5UKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gYXJyOwogICAgICAgIH0sCiAgICAgICAgLy/liJvlu7rlnZDmoIfngrkKICAgICAgICBjcmVhdGVQb2ludDogZnVuY3Rpb24gKHBvcykgewogICAgICAgICAgICB0aGlzLnRlbXBQb2ludHMucHVzaChPYmplY3QuYXNzaWduKHt9LCBwb3MpKQogICAgICAgICAgICByZXR1cm4gKyt0aGlzLm51bTsKICAgICAgICB9LAogICAgICAgIGNvbXBhcmVQb3M6IGZ1bmN0aW9uIChmb250UG9zLCBjaGVja1Bvc0FycikgewogICAgICAgICAgICB2YXIgZmxhZyA9IHRydWU7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9udFBvcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKCEocGFyc2VJbnQoY2hlY2tQb3NBcnJbaV0ueCkgKyA0MCA+IGZvbnRQb3NbaV0ueCAmJiBwYXJzZUludChjaGVja1Bvc0FycltpXS54KSAtIDQwIDwgZm9udFBvc1tpXS54ICYmIHBhcnNlSW50KGNoZWNrUG9zQXJyW2ldLnkpICsgNDAgPiBmb250UG9zW2ldLnkgJiYgcGFyc2VJbnQoY2hlY2tQb3NBcnJbaV0ueSkgLSA0MCA8IGZvbnRQb3NbaV0ueSkpIHsKICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBmbGFnOwogICAgICAgIH0sCiAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLnRlbXBQb2ludHMuc3BsaWNlKDAsIHRoaXMudGVtcFBvaW50cy5sZW5ndGgpCiAgICAgICAgICAgIHRoaXMuYmFyQXJlYUNvbG9yID0gJyMwMDAnCiAgICAgICAgICAgIHRoaXMuYmFyQXJlYUJvcmRlckNvbG9yID0gJyNkZGQnCiAgICAgICAgICAgIHRoaXMuYmluZGluZ0NsaWNrID0gdHJ1ZQoKICAgICAgICAgICAgdGhpcy5mb250UG9zLnNwbGljZSgwLCB0aGlzLmZvbnRQb3MubGVuZ3RoKQogICAgICAgICAgICB0aGlzLmNoZWNrUG9zQXJyLnNwbGljZSgwLCB0aGlzLmNoZWNrUG9zQXJyLmxlbmd0aCkKICAgICAgICAgICAgdGhpcy5udW0gPSAxCgogICAgICAgICAgICB0aGlzLmltZ1JhbmQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmltZ05hbWUubGVuZ3RoKTsJCQkvL+maj+acuueahOiDjOaZr+WbvueJhwogICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgICAgIGltZy5zcmMgPSB0aGlzLmltZ1VybCArIHRoaXMuaW1nTmFtZVt0aGlzLmltZ1JhbmRdOwogICAgICAgICAgICAvLyDliqDovb3lrozmiJDlvIDlp4vnu5jliLYKICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcwogICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIF90aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZm9udFBvcyA9IF90aGlzLmRyYXdJbWcoX3RoaXMuJGVsLCB0aGlzKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy50ZXh0ID0gJ+mqjOivgeWksei0pScKICAgICAgICAgICAgdGhpcy5zaG93UmVmcmVzaCA9IHRydWUKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAvLyB0eXBl5Y+Y5YyW5YiZ5YWo6Z2i5Yi35pawCiAgICAgICAgdHlwZTogewogICAgICAgICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgICAgICAgIGhhbmRsZXIoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmluaXQoKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgLy8g56aB5q2i5ouW5ou9CiAgICAgICAgdGhpcy4kZWwub25zZWxlY3RzdGFydCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgfSwKICAgIGkxOG46IHsKICAgICAgICBtZXNzYWdlczogewogICAgICAgICAgICAnZW4tVVMnOiB7fSwKICAgICAgICAgICAgJ3poLUNOJzoge30KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["VerifyPoints.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VerifyPoints.vue","sourceRoot":"node_modules/vue2-verify/src/components/Verify","sourcesContent":["<template>\n    <div style=\"position: relative\"\n         @mouseover=\"mode === 'pop'?(showImage = true):undefined\"\n         @mouseout=\"mode === 'pop'?(showImage = false):undefined\">\n        <div class=\"verify-img-out\"\n             v-show=\"showImage\"\n             @mouseover=\"mode === 'pop'?(showImage = true):undefined\"\n             @mouseout=\"mode === 'pop'?(showImage = false):undefined\"\n             :style=\"mode === 'pop' ?\n                                {display: 'none', position: 'absolute', bottom: '42px', height: parseInt(setSize.imgHeight) + vSpace + 'px'} :\n                                {position: 'relative', height: parseInt(setSize.imgHeight) + vSpace + 'px'}\">\n            <div class=\"verify-img-panel\" :style=\"{'width': setSize.imgWidth,\n                                                   'height': setSize.imgHeight,\n                                                   'background-size' : setSize.imgWidth + ' '+ setSize.imgHeight,\n                                                   'margin-bottom': vSpace + 'px'}\">\n                <div class=\"verify-refresh\" style=\"z-index:3\" @click=\"refresh\" v-show=\"showRefresh\">\n                    <i class=\"iconfont icon-refresh\"></i>\n                </div>\n                <canvas :width=\"setSize.imgWidth\" :height=\"setSize.imgHeight\"\n                        ref=\"canvas\"\n                        @click=\"bindingClick?canvasClick($event):undefined\"></canvas>\n                <div v-for=\"(tempPoint, index) in tempPoints\" :key=\"index\" class=\"point-area\"\n                     :style=\"{\n                        'background-color':'#1abd6c',\n                        color:'#fff',\n                        'z-index':9999,\n                        width:'30px',\n                        height:'30px',\n                        'text-align':'center',\n                        'line-height':'30px',\n                        'border-radius': '50%',\n                        position:'absolute',\n                        top:parseInt(tempPoint.y-10) + 'px',\n                        left:parseInt(tempPoint.x-10) + 'px'\n                     }\">\n                    {{index + 1}}\n                </div>\n            </div>\n        </div>\n        <div class=\"verify-bar-area\"\n             :style=\"{'width': this.barSize.width,\n                      'height': this.barSize.height,\n                      'color': this.barAreaColor,\n                      'border-color': this.barAreaBorderColor,\n                      'line-height':this.barSize.height}\">\n            <span class=\"verify-msg\">{{text}}</span>\n        </div>\n    </div>\n</template>\n<script type=\"text/babel\">\n    /**\n     * VerifyPoints\n     * @description 点选\n     * */\n\n    import {resetSize, _code_chars, _code_color1, _code_color2} from '../../lib/util'\n\n    function getOffset(Node, offset = {top: 0, left: 0}) {\n        if (Node == document.body) {//当该节点为body节点时，结束递归\n            return offset;\n        }\n\n        offset.top += Node.offsetTop;\n        offset.left += Node.offsetLeft;\n\n        return getOffset(Node.parentNode, offset);//向上累加offset里的值\n    }\n\n    export default {\n        name: 'VerifyPoints',\n        props: {\n            //弹出式pop，固定fixed\n            mode: {\n                type: String,\n                default: 'fixed'\n            },\n            //默认的文字数量\n            defaultNum: {\n                type: Number,\n                default: 4\n            },\n            //校对的文字数量\n            checkNum: {\n                type: Number,\n                default: 3\n            },\n            //间隔\n            vSpace: {\n                type: Number,\n                default: 5\n            },\n            imgUrl: {\n                type: String,\n                default: 'http://via.placeholder.com/'\n            },\n            imgName: {\n                type: Array,\n                default() {\n                    return ['350x150', '350x450']\n                }\n            },\n            imgSize: {\n                type: Object,\n                default() {\n                    return {\n                        width: '400px',\n                        height: '200px'\n                    }\n                }\n            },\n            barSize: {\n                type: Object,\n                default() {\n                    return {\n                        width: '400px',\n                        height: '40px'\n                    }\n                }\n            }\n        },\n        data() {\n            return {\n                fontPos: [], // 选中的坐标信息\n                checkPosArr: [], //用户点击的坐标\n                num: 1,//点击的记数\n                imgRand: 0, // //随机的背景图片\n                setSize: {\n                    imgHeight: 0,\n                    imgWidth: 0,\n                    barHeight: 0,\n                    barWidth: 0\n                },\n                showImage: true,\n                tempPoints: [],\n                text: '',\n                barAreaColor: undefined,\n                barAreaBorderColor: undefined,\n                showRefresh: true,\n                bindingClick: true\n            }\n        },\n        computed: {\n            resetSize() {\n                return resetSize\n            }\n        },\n        methods: {\n            init() {\n                //加载页面\n                this.fontPos.splice(0, this.fontPos.length)\n                this.checkPosArr.splice(0, this.checkPosArr.length)\n                this.num = 1\n                this.imgRand = Math.floor(Math.random() * this.imgName.length)\n\n                this.$nextTick(() => {\n                    this.setSize = this.resetSize(this)\t//重新设置宽度高度\n                    this.refresh();\n                    this.$parent.$emit('ready', this)\n                })\n\n            },\n            canvasClick(e) {\n                this.checkPosArr.push(this.getMousePos(this.$refs.canvas, e));\n                if (this.num == this.checkNum) {\n\n                    this.num = this.createPoint(this.getMousePos(this.$refs.canvas, e));\n                    setTimeout(() => {\n                        var flag = this.comparePos(this.fontPos, this.checkPosArr);\n                        if (flag == false) {\t//验证失败\n                            this.$parent.$emit('error', this)\n                            this.barAreaColor = '#d9534f'\n                            this.barAreaBorderColor = '#d9534f'\n                            this.text = '验证失败'\n\n                            setTimeout(() => {\n                                this.refresh();\n                            }, 400);\n\n                        } else {\t//验证成功\n                            this.barAreaColor = '#4cae4c'\n                            this.barAreaBorderColor = '#5cb85c'\n                            this.text = '验证成功'\n                            this.showRefresh = false\n                            this.bindingClick = false\n                            this.$parent.$emit('success', this)\n                        }\n                    }, 400);\n\n                }\n\n                if (this.num < this.checkNum) {\n                    this.num = this.createPoint(this.getMousePos(this.$refs.canvas, e));\n                }\n\n            },\n            //绘制合成的图片\n            drawImg: function (obj, img) {\n                //准备canvas环境\n                var canvas = this.$refs.canvas;\n                var ctx = canvas.getContext(\"2d\");\n\n                // 绘制图片\n                ctx.drawImage(img, 0, 0, parseInt(this.setSize.imgWidth), parseInt(this.setSize.imgHeight));\n\n                // 绘制水印\n                var fontSizeArr = ['italic small-caps bold 20px microsoft yahei', 'small-caps normal 25px arial', '34px microsoft yahei'];\n                var fontStr = '天地玄黄宇宙洪荒日月盈昃辰宿列张寒来暑往秋收冬藏闰余成岁律吕调阳云腾致雨露结为霜金生丽水玉出昆冈剑号巨阙珠称夜光果珍李柰菜重芥姜海咸河淡鳞潜羽翔龙师火帝鸟官人皇始制文字乃服衣裳推位让国有虞陶唐吊民伐罪周发殷汤坐朝问道垂拱平章爱育黎首臣伏戎羌遐迩体率宾归王';\t//不重复的汉字\n\n\n                var fontChars = [];\n\n                var avg = Math.floor(parseInt(this.setSize.imgWidth) / (parseInt(this.defaultNum) + 1));\n                var tmp_index = '';\n                var color2Num = Math.floor(Math.random() * 5);\n\n                for (var i = 1; i <= this.defaultNum; i++) {\n\n                    fontChars[i - 1] = this.getChars(fontStr, fontChars);\n\n                    tmp_index = Math.floor(Math.random() * 3);\n                    ctx.font = fontSizeArr[tmp_index];\n                    ctx.fillStyle = _code_color2[color2Num];\n\n                    if (Math.floor(Math.random() * 2) == 1) {\n                        var tmp_y = Math.floor(parseInt(this.setSize.imgHeight) / 2) + tmp_index * 20 + 20\n                    } else {\n                        var tmp_y = Math.floor(parseInt(this.setSize.imgHeight) / 2) - tmp_index * 20\n                    }\n\n                    ctx.fillText(fontChars[i - 1], avg * i, tmp_y);\n                    this.fontPos[i - 1] = {'char': fontChars[i - 1], 'x': avg * i, 'y': tmp_y}\n                }\n\n                for (var i = 0; i < (this.defaultNum - this.checkNum); i++) {\n                    this.shuffle(this.fontPos).pop();\n                }\n\n                var msgStr = '';\n                for (var i = 0; i < this.fontPos.length; i++) {\n                    msgStr += this.fontPos[i].char + ',';\n                }\n\n                this.text = '请顺序点击【' + msgStr.substring(0, msgStr.length - 1) + '】'\n\n                return this.fontPos;\n            },\n            //获取坐标\n            getMousePos: function (obj, e) {\n                var x = e.offsetX - 5\n                var y = e.offsetY - 5\n\n                return {x, y}\n            },\n            //递归去重\n            getChars: function (fontStr, fontChars) {\n\n                var tmp_rand = parseInt(Math.floor(Math.random() * fontStr.length));\n                if (tmp_rand > 0) {\n                    tmp_rand = tmp_rand - 1;\n                }\n\n                var tmp_char = fontStr.charAt(tmp_rand);\n                if (fontChars.indexOf(tmp_char) == -1) {\n                    return tmp_char;\n                } else {\n                    return this.getChars(fontStr, fontChars);\n                }\n            },\n            //洗牌数组\n            shuffle: function (arr) {\n                var m = arr.length, i;\n                var tmpF;\n                while (m) {\n                    i = (Math.random() * m--) >>> 0;\n                    tmpF = arr[m];\n                    arr[m] = arr[i];\n                    arr[i] = tmpF;\n                    //[arr[m], arr[i]] = [arr[i], arr[m]];\t//低版本浏览器不支持此写法\n                }\n                return arr;\n            },\n            //创建坐标点\n            createPoint: function (pos) {\n                this.tempPoints.push(Object.assign({}, pos))\n                return ++this.num;\n            },\n            comparePos: function (fontPos, checkPosArr) {\n                var flag = true;\n                for (var i = 0; i < fontPos.length; i++) {\n                    if (!(parseInt(checkPosArr[i].x) + 40 > fontPos[i].x && parseInt(checkPosArr[i].x) - 40 < fontPos[i].x && parseInt(checkPosArr[i].y) + 40 > fontPos[i].y && parseInt(checkPosArr[i].y) - 40 < fontPos[i].y)) {\n                        flag = false;\n                        break;\n                    }\n                }\n\n                return flag;\n            },\n            refresh: function () {\n                this.tempPoints.splice(0, this.tempPoints.length)\n                this.barAreaColor = '#000'\n                this.barAreaBorderColor = '#ddd'\n                this.bindingClick = true\n\n                this.fontPos.splice(0, this.fontPos.length)\n                this.checkPosArr.splice(0, this.checkPosArr.length)\n                this.num = 1\n\n                this.imgRand = Math.floor(Math.random() * this.imgName.length);\t\t\t//随机的背景图片\n                var img = new Image();\n                img.src = this.imgUrl + this.imgName[this.imgRand];\n                // 加载完成开始绘制\n                var _this = this\n                img.onload = function (e) {\n                    _this.$nextTick(() => {\n                        _this.fontPos = _this.drawImg(_this.$el, this)\n                    })\n                }\n\n                this.text = '验证失败'\n                this.showRefresh = true\n            }\n        },\n        watch: {\n            // type变化则全面刷新\n            type: {\n                immediate: true,\n                handler() {\n                    this.init()\n                }\n            }\n        },\n        mounted() {\n            // 禁止拖拽\n            this.$el.onselectstart = function () {\n                return false\n            }\n        },\n        i18n: {\n            messages: {\n                'en-US': {},\n                'zh-CN': {}\n            }\n        }\n    }\n</script>"]}]}