{"remainingRequest":"/Users/sanxun/Downloads/cxc_bsc/node_modules/thread-loader/dist/cjs.js!/Users/sanxun/Downloads/cxc_bsc/node_modules/babel-loader/lib/index.js!/Users/sanxun/Downloads/cxc_bsc/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sanxun/Downloads/cxc_bsc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sanxun/Downloads/cxc_bsc/src/views/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sanxun/Downloads/cxc_bsc/src/views/index/index.vue","mtime":1645689982152},{"path":"/Users/sanxun/Downloads/cxc_bsc/babel.config.js","mtime":1644982795000},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/cache-loader/dist/cjs.js","mtime":1644989844798},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/thread-loader/dist/cjs.js","mtime":1644989844777},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/babel-loader/lib/index.js","mtime":1644989844828},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/cache-loader/dist/cjs.js","mtime":1644989844798},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/vue-loader/lib/index.js","mtime":1644989857412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zYW54dW4vRG93bmxvYWRzL2N4Y19ic2Mvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9zYW54dW4vRG93bmxvYWRzL2N4Y19ic2Mvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKCnZhciBfY29tcG9uZW50czsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IENvbGxhcHNlLCBDb2xsYXBzZUl0ZW0sIEZpZWxkLCBEaWFsb2csIFRvYXN0LCBMb2FkaW5nLCBMYXp5bG9hZCwgU3dpcGUsIFN3aXBlSXRlbSwgSWNvbiwgSW1hZ2UgYXMgVmFuSW1hZ2UsIENvdW50RG93biwgUG9wdXAsIENlbGwsIENlbGxHcm91cCB9IGZyb20gInZhbnQiOwppbXBvcnQgeyBNYXBwaW5nLCBlZ2dBZGRyLCBBZGRyc21hcHBpbmcsIGVnZ1dhbGxldCwgZWdnRmVlIH0gZnJvbSAiQC91dGlscy9NYXBwaW5nIjsKaW1wb3J0IFdlYjMgZnJvbSAid2ViMyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaW5kZXgiLAogIGluamVjdDogWydyZWxvYWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3JUZXh0OiAiIiwKICAgICAgZGVmYXVsdEFkZHJlc3M6ICcnLAogICAgICBmZWU6ICcnLAogICAgICBkaWFsb2c6ICcnLAogICAgICBFR0dhZGRyOiAnJywKICAgICAgYmluZDogZmFsc2UsCiAgICAgIHRpbWU6IDYwICogMTAwMCwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIHZhbHVlMTogJycsCiAgICAgIHZhbHVlMjogJzAnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZm4oKTsKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTE6IGZ1bmN0aW9uIHZhbHVlMSh2YWwpIHsKICAgICAgdGhpcy52YWx1ZTIgPSB2YWwgLyAxMDAwMDsKICAgICAgY29uc29sZS5sb2codmFsKTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IChfY29tcG9uZW50cyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIENvbGxhcHNlLm5hbWUsIENvbGxhcHNlKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBDb2xsYXBzZUl0ZW0ubmFtZSwgQ29sbGFwc2VJdGVtKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBGaWVsZC5uYW1lLCBGaWVsZCksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgRGlhbG9nLm5hbWUsIERpYWxvZyksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgRGlhbG9nLkNvbXBvbmVudC5uYW1lLCBEaWFsb2cuQ29tcG9uZW50KSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBUb2FzdC5uYW1lLCBUb2FzdCksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgTG9hZGluZy5uYW1lLCBMb2FkaW5nKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBTd2lwZS5uYW1lLCBTd2lwZSksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgU3dpcGVJdGVtLm5hbWUsIFN3aXBlSXRlbSksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgTGF6eWxvYWQubmFtZSwgTGF6eWxvYWQpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIEljb24ubmFtZSwgSWNvbiksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgVmFuSW1hZ2UubmFtZSwgVmFuSW1hZ2UpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIENvdW50RG93bi5uYW1lLCBDb3VudERvd24pLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIFBvcHVwLm5hbWUsIFBvcHVwKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBDZWxsLm5hbWUsIENlbGwpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIENlbGxHcm91cC5uYW1lLCBDZWxsR3JvdXApLCBfY29tcG9uZW50cyksCiAgLy/liJ3lp4vljJYKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldENoYWluSWQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaW5pdFdlYjNBY2NvdW50KCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0V2ViM0FjY291bnQ6IGZ1bmN0aW9uIGluaXRXZWIzQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgVG9hc3QubG9hZGluZyh7CiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiTG9hZGluZy4uIiwKICAgICAgICAgICAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImluaXRXZWIzQWNjb3VudCDmlrnms5XmiafooYzkuoYtLS0tLS0tIik7IC8vIOajgOafpeaWsOeJiE1ldGFNYXNrCgogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLnByb3ZpZGVyID0gd2luZG93LmV0aGVyZXVtOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5ldGhlcmV1bS5lbmFibGUoKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgICAvLyDnlKjmiLfmi5Lnu53kuoborr/pl64KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJVc2VyIGRlbmllZCBhY2NvdW50IGFjY2VzcyIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy53ZWIzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm92aWRlciA9IHdpbmRvdy53ZWIzLmN1cnJlbnRQcm92aWRlcjsKICAgICAgICAgICAgICAgIH0gLy8g5aaC5p6c5rKh5pyJ5rOo5YWl55qEd2ViM+WunuS+i++8jOWbnumAgOWIsOS9v+eUqCBHYW5hY2hlCiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgYWxlcnQoIuivt+WuieijhU1ldGFNYXNrISIpOwogICAgICAgICAgICAgICAgICBfdGhpczIucHJvdmlkZXIgPSBuZXcgV2ViMy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKCJodHRwOi8vMTI3LjAuMC4xOjc1NDUiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF90aGlzMi53ZWIzID0gbmV3IFdlYjMoX3RoaXMyLnByb3ZpZGVyKTsKCiAgICAgICAgICAgICAgICBfdGhpczIud2ViMy5ldGguZ2V0QWNjb3VudHMoKS50aGVuKGZ1bmN0aW9uIChhY2NzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5kZWZhdWx0QWRkcmVzcyA9IGFjY3NbMF07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFjY3MpOwogICAgICAgICAgICAgICAgICBBZGRyc21hcHBpbmcoX3RoaXMyLmRlZmF1bHRBZGRyZXNzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfmn6Xor6LlnLDlnYDmmK/lkKbooqvmmKDlsIQ6JywgcmVzKQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXMgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuRUdHYWRkciA9IHJlczsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5iaW5kID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuYWN0aXZlTmFtZXMgPSBbJzInXTsgLy/mn6Xor6JFR0fpkrHljIXlnLDlnYAKCiAgICAgICAgICAgICAgICAgICAgICBlZ2dXYWxsZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLkVHRyA9IHJlczsKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIFRvYXN0LmNsZWFyKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1s0LCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaG93UG9wdXA6IGZ1bmN0aW9uIHNob3dQb3B1cCgpIHsKICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBzcV9hZGQ6IGZ1bmN0aW9uIHNxX2FkZCgpIHsKICAgICAgVG9hc3QuZmFpbCgn5LuK5pel56eS5p2A5bey57uT5p2f77yM6K+35piO5pel5YeG54K55Y+C5YqgJyk7CiAgICB9LAogICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goKSB7CiAgICAgIHRoaXMuYmluZCA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCflgJLorqHml7bnu5PmnZ8nKTsKICAgICAgVG9hc3QoJ+WAkuiuoeaXtue7k+adnycpOwogICAgfSwKICAgIE1hcHBpbmdCdG46IGZ1bmN0aW9uIE1hcHBpbmdCdG4oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZWdnaW5wdXQgIT09ICcnKSB7CiAgICAgICAgVG9hc3QubG9hZGluZyh7CiAgICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICAgIG1lc3NhZ2U6ICJMb2FkaW5nLi4iLAogICAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUKICAgICAgICB9KTsgLy/mn6Xor6LmiYvnu63otLkKCiAgICAgICAgZWdnRmVlKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgX3RoaXMzLmZlZSA9IHJlczsKICAgICAgICB9KTsgLy8g5p+l6K+i5Zyw5Z2A5piv5ZCm6KKr57uR5a6a6L+HCgogICAgICAgIGNvbnNvbGUubG9nKCdlZ2dBZGRyJywgdGhpcy5lZ2dpbnB1dCk7CiAgICAgICAgZWdnQWRkcih0aGlzLmVnZ2lucHV0KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlZ2dyZXMnLCByZXMpOwogICAgICAgICAgVG9hc3QuY2xlYXIoKTsKCiAgICAgICAgICBpZiAocmVzID09PSB0cnVlKSB7CiAgICAgICAgICAgIERpYWxvZy5hbGVydCh7CiAgICAgICAgICAgICAgdGl0bGU6ICflt7Looqvnu5HlrponLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICdFR0fpk77pkrHljIXlnLDlnYDlt7Looqvnu5HlrprvvIzor7fnoa7kv53nu5HlrprnmoTmmK/mnKzkurrnmoRCTkLpkrHljIXlnLDlnYAnLAogICAgICAgICAgICAgIHRoZW1lOiAncm91bmQtYnV0dG9uJywKICAgICAgICAgICAgICBjbGFzc05hbWU6ICJjb25maXJtX2RpYWxvZyBkaWFsb2dfYWxlcnQiLAogICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi5aW955qEIgogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczMuZWdnaW5wdXQgPSAnJzsKICAgICAgICAgICAgICBUb2FzdC5jbGVhcigpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIERpYWxvZy5jb25maXJtKHsKICAgICAgICAgICAgICB0aXRsZTogJ+ehruiupOe7keWumicsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+e7keWumuWQju+8jEVHR+mSseWMhei9rOW4geWIsOaMh+WumuWcsOWdgOWwhuaYoOWwhOi9rOWIsEJOQumSseWMhe+8jOivt+ehruS/neS4pOS4quWcsOWdgOWxnuS6juaCqOacrOS6uicsCiAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7orqTnu5HlrpoiLAogICAgICAgICAgICAgIGNsYXNzTmFtZTogImNvbmZpcm1fZGlhbG9nIgogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBUb2FzdC5sb2FkaW5nKHsKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLAogICAgICAgICAgICAgICAgbWVzc2FnZTogIuivt+etieW+hS4uIiwKICAgICAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlCiAgICAgICAgICAgICAgfSk7IC8v5omL57ut6LS55p+l6K+iCiAgICAgICAgICAgICAgLy8g5Zyw5Z2A5pig5bCECgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZGRyZGRkZCcsIF90aGlzMy5mZWUpOwogICAgICAgICAgICAgIE1hcHBpbmcoX3RoaXMzLmRlZmF1bHRBZGRyZXNzLCBfdGhpczMuZWdnaW5wdXQsIF90aGlzMy5mZWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgVG9hc3QuY2xlYXIoKTsKICAgICAgICAgICAgICAgIFRvYXN0KHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIue7keWumuaIkOWKnyIsCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogIi92ZXJpZmljYXRpb24iCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgVG9hc3QuY2xlYXIoKTsKICAgICAgICAgICAgICAgIFRvYXN0KHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIkZhaWwiLAogICAgICAgICAgICAgICAgICBkdXJhdGlvbjogODAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzMy5lZ2dpbnB1dCA9ICcnOyAvL2NvbnNvbGUubG9nKCdic2NlcnJvcicsIGUpCiAgICAgICAgICAgICAgfSk7IC8vIG9uIGNvbmZpcm0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIFRvYXN0LmNsZWFyKCk7CiAgICAgICAgICAgICAgX3RoaXMzLmVnZ2lucHV0ID0gJyc7IC8vIG9uIGNhbmNlbAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgVG9hc3QuY2xlYXIoKTsKICAgICAgICAgIFRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogIkZhaWwiLAogICAgICAgICAgICBkdXJhdGlvbjogODAwCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMy5lZ2dpbnB1dCA9ICcnOwogICAgICAgICAgY29uc29sZS5sb2coJ2JzY2Vycm9yJywgZSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgVG9hc3QoIlBsZWFzZSBlbnRlciBFR0cgYWRkcmVzcyIpOwogICAgICB9CiAgICB9LAogICAgLy8g5aSN5Yi2CiAgICBjb3B5OiBmdW5jdGlvbiBjb3B5KCkgewogICAgICB0aGlzLiRjb3B5VGV4dCh0aGlzLkVHRykudGhlbihmdW5jdGlvbiAoZSkgewogICAgICAgIFRvYXN0KCflpI3liLbmiJDlip8nKTsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBUb2FzdCgn5aSN5Yi25aSx6LSlJyk7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGZuOiBmdW5jdGlvbiBmbigpIHsKICAgICAgd2luZG93LmV0aGVyZXVtLm9uKCJhY2NvdW50c0NoYW5nZWQiLCBmdW5jdGlvbiAoYWNjb3VudHMpIHsKICAgICAgICBjb25zb2xlLmxvZyhhY2NvdW50c1swXSk7IC8v5LiA5pem5YiH5o2i6LSm5Y+36L+Z6YeM5bCx5Lya5omn6KGMCgogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSk7CiAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbigiY2hhaW5DaGFuZ2VkIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCfpk77liIfmjaInKTsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldENoYWluSWQ6IGZ1bmN0aW9uIGdldENoYWluSWQoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBpZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWQgPSB3aW5kb3cuZXRoZXJldW0uY2hhaW5JZDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGlkKTsKCiAgICAgICAgICAgICAgICBpZiAoaWQgIT0gJzB4NjEnKSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICd3YWxsZXRfYWRkRXRoZXJldW1DaGFpbicsCiAgICAgICAgICAgICAgICAgICAgLy8gTWV0YW1hc2vnmoRhcGnlkI3np7AKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAiMHg2MSIsCiAgICAgICAgICAgICAgICAgICAgICAvLyDnvZHnu5xpZO+8jDE26L+b5Yi255qE5a2X56ym5LiyCiAgICAgICAgICAgICAgICAgICAgICBjaGFpbk5hbWU6ICJCaW5hbmNlIFNtYXJ0IENoYWluIFRlc3RuZXQiLAogICAgICAgICAgICAgICAgICAgICAgLy8g5re75Yqg5Yiw6ZKx5YyF5ZCO5pi+56S655qE572R57uc5ZCN56ewCiAgICAgICAgICAgICAgICAgICAgICBycGNVcmxzOiBbJ2h0dHBzOi8vZGF0YS1zZWVkLXByZWJzYy0xLXMxLmJpbmFuY2Uub3JnOjg1NDUvJyAvLyBycGPlnLDlnYAKICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsczogWydodHRwczovL3Rlc3RuZXQuaGVjb2luZm8uY29tL2Zhdmljb24ucG5nJyAvLyDnvZHnu5znmoTlm77moIfvvIzmmoLml7bmsqHnnIvliLDlnKjlk6rph4zkvJrmmL7npLoKICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICBibG9ja0V4cGxvcmVyVXJsczogWydodHRwczovL3Rlc3RuZXQuYnNjc2Nhbi5jb20vJyAvLyDnvZHnu5zlr7nlupTnmoTljLrlnZfmtY/op4jlmagKICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVDdXJyZW5jeTogewogICAgICAgICAgICAgICAgICAgICAgICAvLyDnvZHnu5zkuLvluIHnmoTkv6Hmga8KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3RCTkInLAogICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2w6ICd0Qk5CJywKICAgICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbHM6IDE4CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdubycpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3llcycpOwogICAgICAgICAgICAgICAgfSAvL++8gemTvmlk5LiN5piv6ams5LiK5ou/5Yiw55qE77yM5aaC5p6c6YCa6L+H6ZO+aWTmnaXliKTmlq3mmK/kuI3mmK/kuLvnvZHnmoTmlrnlvI/vvIzor7fms6jmhI/lvILmraUKCgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZmlsdGVyczogewogICAgZWxsaXBzaXM6IGZ1bmN0aW9uIGVsbGlwc2lzKHZhbHVlKSB7CiAgICAgIHZhciBsZW4gPSB2YWx1ZS5sZW5ndGg7CiAgICAgIGlmICghdmFsdWUpIHJldHVybiAiIjsKCiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiA4KSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLCA0KSArICIuLi4iICsgdmFsdWUuc3Vic3RyaW5nKGxlbiAtIDQsIGxlbik7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"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0CA;AACA,SA3DA,EA4DA0B,KA5DA,CA4DA;AACA1B;AACAA;AACAW,2BADA;AAEAD;AAFA;AAIA;AACAhB;AACA,SApEA;AAqEA,OAnFA,MAmFA;AACAM;AACA;AAEA,KApJA;AAqJA;AACA2B,QAtJA,kBAsJA;AACA;AACA3B;AACAN;AACA,OAHA,EAGA;AACAM;AACAN;AACA,OANA;AAOA,KA9JA;AA+JAkC,MA/JA,gBA+JA;AACAf;AACAnB,iCADA,CACA;;AACAmB;AACA,OAHA;AAKAA;AACAnB;AACAmB;AACA,OAHA;AAIA,KAzKA;AA0KAgB,cA1KA,wBA0KA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAC,kBADA,GACAjB,uBADA;AAEAnB;;AACA;AACAmB;AACAkB,qDADA;AACA;AACAC;AACAC,qCADA;AACA;AACAC,8DAFA;AAEA;AACAC,gCACA,iDADA,CACA;AADA,uBAHA;AAMAC,iCACA,0CADA,CACA;AADA,uBANA;AASAC,0CACA,8BADA,CACA;AADA,uBATA;AAYAC;AAAA;AACA3D,oCADA;AAEA4D,sCAFA;AAGAC;AAHA;AAZA;AAFA;AAqBA9C;AACA,iBAvBA,MAuBA;AACAA;AACA,iBA5BA,CA8BA;;;AA9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA;AAzMA,GApDA;AAgQA+C;AACAC,YADA,oBACAC,KADA,EACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AARA;AAhQA","names":["Image","CountDown","Popup","Cell","CellGroup","Mapping","eggAddr","Addrsmapping","eggWallet","eggFee","name","inject","data","errorText","defaultAddress","fee","dialog","EGGaddr","bind","time","show","value1","value2","mounted","watch","console","components","Collapse","CollapseItem","Field","Dialog","Toast","Loading","Swipe","SwipeItem","Lazyload","Icon","VanImage","created","methods","initWeb3Account","duration","message","forbidClick","window","alert","showPopup","sq_add","finish","MappingBtn","then","title","theme","className","confirmButtonText","setTimeout","path","catch","copy","fn","getChainId","id","method","params","chainId","chainName","rpcUrls","iconUrls","blockExplorerUrls","nativeCurrency","symbol","decimals","filters","ellipsis","value"],"sourceRoot":"src/views/index","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"w100s\">\n    <div class=\"s0 f16 center\" style=\"display: flex;\">\n      <div style=\"flex: 1\"></div>\n      <div style=\"flex: 2\">\n        <div style=\"margin: 1rem;\">CXC秒杀</div>\n      </div>\n      <div style=\"flex: 1\">\n        <van-icon name=\"pending-payment\" />\n        <div style=\"font-size: .5rem;\" v-if=\"defaultAddress.length > 1\">{{ defaultAddress | ellipsis }}\n        </div>\n        <div style=\"font-size: .5rem;\" v-else>未连接钱包\n        </div>\n      </div>\n\n    </div>\n    <van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"white\">\n      <van-swipe-item>1</van-swipe-item>\n      <van-swipe-item>2</van-swipe-item>\n      <van-swipe-item>3</van-swipe-item>\n      <van-swipe-item>4</van-swipe-item>\n    </van-swipe>\n\n  <div style=\"display: flex;color: #fff;font-size: 1rem;\n    background-color: #403d3d;\">\n    <div class=\"flex1 m5\"><van-icon name=\"chat-o\" />限量秒杀</div>\n    <div class=\"flex1 m5\" style=\"text-align: right;\">1 CXC=10000 CX</div>\n  </div>\n\n    <div class=\"m5\" style=\"display: flex\">\n      <div style=\"flex: 1\">\n        <van-image\n            round\n            width=\"3rem\"\n            height=\"3rem\"\n            src=\"https://img01.yzcdn.cn/vant/cat.jpeg\"\n        />\n      </div >\n      <div style=\"color: #fff;flex: 10;line-height: 3rem;font-size: 1.2rem;margin-left: 0.5rem;\">CXC</div>\n    </div>\n    <div style=\"display: flex;color: #fff\">\n      <div style=\"flex: 3\">\n        <div style=\"margin: 0.5rem;\"><span>开始:</span>\n          <span style=\"font-size: 1rem;\">2022-05-01 12:00:00</span>\n        </div>\n      </div>\n      <div style=\"flex: 1\" v-show=\"!bind\">\n        <div class=\"ks_button\" >待开始</div>\n      </div>\n      <div style=\"flex: 1\" v-show=\"bind\">\n        <div class=\"ks_button\" @click=\"showPopup\">立即秒杀</div>\n      </div>\n    </div>\n    <div style=\"margin: 0.5rem;color: #fff\">\n      <span>数量:</span>\n      <span style=\"font-size: 1rem;\">10000000.00</span>\n    </div>\n    <div style=\"display: flex;color: #fff;text-align: center;\n    background-color: #f00;\">\n      <van-count-down :time=\"time\" @finish=\"finish\" format=\"距离开始：HH:mm:ss \" />\n    </div>\n\n\n\n    <div class=\"p5 s1 f10\">秒杀说明：<br>\n      1.秒杀开始后即可参与秒杀。\n      <br>\n      2.参与将扣除CX，链上确认成功后，按照比例获得CXC，参与的CX将进行销毁。\n      <br>\n      3.当CXC不足时，无法进行秒杀。\n      <br>\n      4.当秒杀结束，未被秒杀的CXC将进行销毁。\n    </div>\n\n\n\n    <van-popup v-model=\"show\"\n               closeable\n               round\n               :style=\"{ height: '20rem',width:'20rem'}\"\n    >\n      <div style=\"margin: 1rem;\">\n        <div style=\"font-size: 1.2rem;text-align: center;\">立即秒杀</div>\n        <div style=\"margin-top: 0.5rem;\">1 CXC=10000 CX</div>\n        <van-cell-group>\n          <van-field v-model=\"value1\" type=\"digit\"  placeholder=\"请输入CX数量\">\n            <template slot=\"right-icon\">\n                      <span class=\"solts m10\">\n                           CX\n                      </span>\n            </template>\n          </van-field>\n        </van-cell-group>\n        <div style=\"margin-top: 0.5rem;\">CX余额：55555.5555</div>\n        <van-cell-group>\n          <van-field v-model=\"value2\" type=\"number\" readonly  placeholder=\"\">\n            <template slot=\"right-icon\">\n                      <span class=\"solts m10\">\n                           CXC\n                      </span>\n            </template>\n          </van-field>\n        </van-cell-group>\n        <div style=\"display: flex\">\n          <div class=\"sq_button\" @click=\"sq_add\">授权</div>\n        </div>\n\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport {Collapse, CollapseItem, Field, Dialog, Toast, Loading , Lazyload ,Swipe, SwipeItem ,Icon\n,Image as VanImage , CountDown ,Popup ,Cell, CellGroup} from \"vant\";\nimport {\n   Mapping, eggAddr,Addrsmapping,eggWallet,eggFee\n} from \"@/utils/Mapping\";\nimport Web3 from \"web3\";\nexport default {\n  name: \"index\",\n  inject: ['reload'],\n  data() {\n    return {\n      errorText:\"\",\n      defaultAddress: '',\n      fee: '',\n      dialog: '',\n      EGGaddr: '',\n      bind: false,\n      time:  60 * 1000,\n      show: false,\n      value1: '',\n      value2: '0',\n    }\n  },\n  mounted() {\n    this.fn();\n  },\n  watch: {\n    value1: function (val) {\n      this.value2 = val/10000;\n      console.log(val);\n    },\n  },\n\n  components: {\n    [Collapse.name]: Collapse,\n    [CollapseItem.name]: CollapseItem,\n    [Field.name]: Field,\n    [Dialog.name]: Dialog,\n    [Dialog.Component.name]: Dialog.Component,\n    [Toast.name]: Toast,\n    [Loading.name]: Loading,\n    [Swipe.name]: Swipe,\n    [SwipeItem.name]: SwipeItem,\n    [Lazyload.name]: Lazyload,\n    [Icon.name]: Icon,\n    [VanImage.name]: VanImage,\n    [CountDown.name]: CountDown,\n    [Popup.name]: Popup,\n    [Cell.name]: Cell,\n    [CellGroup.name]: CellGroup,\n  },\n  //初始化\n  async created(){\n    //网络添加切换\n    await this.getChainId()\n    await this.initWeb3Account()\n  },\n\n  methods: {\n    async initWeb3Account() {\n      Toast.loading({\n        duration: 0,\n        message: \"Loading..\",\n        forbidClick: true\n      });\n      console.log(\"initWeb3Account 方法执行了-------\");\n      // 检查新版MetaMask\n      if (window.ethereum) {\n        this.provider = window.ethereum;\n        try {\n          // 请求用户账号授权\n          await window.ethereum.enable();\n        } catch (error) {\n          // 用户拒绝了访问\n          console.log(\"User denied account access\");\n        }\n      }\n      // 老版 MetaMask\n      else if (window.web3) {\n        this.provider = window.web3.currentProvider;\n      }\n      // 如果没有注入的web3实例，回退到使用 Ganache\n      else {\n        alert(\"请安装MetaMask!\");\n        this.provider = new Web3.providers.HttpProvider(\"http://127.0.0.1:7545\");\n      }\n      this.web3 = new Web3(this.provider);\n      this.web3.eth.getAccounts().then(accs => {\n        this.defaultAddress = accs[0]\n        console.log(accs)\n        Addrsmapping(this.defaultAddress).then((res) => {\n          //console.log('查询地址是否被映射:', res)\n          console.log(res)\n          if (res !== '') {\n            this.EGGaddr = res\n            this.bind = false;\n            this.activeNames = ['2']\n            //查询EGG钱包地址\n            eggWallet().then((res) => {\n              console.log(res)\n              this.EGG = res\n            });\n          }\n        });\n        Toast.clear();\n      })\n    },\n    showPopup() {\n      this.show = true;\n    },\n    sq_add(){\n      Toast.fail('今日秒杀已结束，请明日准点参加');\n    },\n    finish() {\n      this.bind = true;\n      console.log('倒计时结束');\n      Toast('倒计时结束');\n    },\n    MappingBtn() {\n      if (this.egginput !== '') {\n        Toast.loading({\n          duration: 0,\n          message: \"Loading..\",\n          forbidClick: true\n        });\n        //查询手续费\n        eggFee().then((res) => {\n          console.log(res)\n          this.fee = res\n        });\n\n        // 查询地址是否被绑定过\n        console.log('eggAddr', this.egginput)\n        eggAddr(this.egginput)\n            .then((res) => {\n              console.log('eggres', res)\n              Toast.clear();\n              if (res === true) {\n                Dialog.alert({\n                  title: '已被绑定',\n                  message: 'EGG链钱包地址已被绑定，请确保绑定的是本人的BNB钱包地址',\n                  theme: 'round-button',\n                  className: \"confirm_dialog dialog_alert\",\n                  confirmButtonText: \"好的\"\n                }).then(() => {\n                  this.egginput = ''\n                  Toast.clear();\n                });\n              } else {\n                Dialog.confirm({\n                  title: '确认绑定',\n                  message: '绑定后，EGG钱包转币到指定地址将映射转到BNB钱包，请确保两个地址属于您本人',\n                  confirmButtonText: \"确认绑定\",\n                  className: \"confirm_dialog\"\n                }).then(() => {\n                      Toast.loading({\n                        duration: 0,\n                        message: \"请等待..\",\n                        forbidClick: true\n                      });\n                      //手续费查询\n                      // 地址映射\n                      console.log('addrdddd', this.fee)\n                      Mapping(this.defaultAddress, this.egginput,this.fee)\n                          .then((res) => {\n                            Toast.clear();\n                            Toast({\n                              message: \"绑定成功\",\n                              duration: 1000\n                            });\n                            setTimeout(() => {\n                              console.log(res)\n                              this.$router.push({path: \"/verification\"});\n                            }, 2000);\n                          })\n                          .catch(() => {\n                            Toast.clear();\n                            Toast({\n                              message: \"Fail\",\n                              duration: 800\n                            });\n                            this.egginput = ''\n                            //console.log('bscerror', e)\n                          });\n                      // on confirm\n                    })\n                    .catch(() => {\n                      Toast.clear();\n                      this.egginput = ''\n                      // on cancel\n                    });\n              }\n            })\n            .catch((e) => {\n              Toast.clear();\n              Toast({\n                message: \"Fail\",\n                duration: 800\n              });\n              this.egginput = ''\n              console.log('bscerror', e)\n            });\n      } else {\n        Toast(\"Please enter EGG address\");\n      }\n\n    },\n    // 复制\n    copy() {\n      this.$copyText(this.EGG).then(function (e) {\n        Toast('复制成功');\n        console.log(e)\n      }, function (e) {\n        Toast('复制失败');\n        console.log(e)\n      })\n    },\n    fn() {\n      window.ethereum.on(\"accountsChanged\", function(accounts) {\n        console.log(accounts[0]);//一旦切换账号这里就会执行\n        window.location.reload();\n      });\n\n      window.ethereum.on(\"chainChanged\",()=>{\n        console.log('链切换')\n        window.location.reload();\n      });\n    },\n    async getChainId(){\n      let id = window.ethereum.chainId;\n      console.log(id)\n      if(id != '0x61'){\n        window.ethereum.request({\n          method: 'wallet_addEthereumChain', // Metamask的api名称\n          params: [{\n            chainId: \"0x61\", // 网络id，16进制的字符串\n            chainName: \"Binance Smart Chain Testnet\", // 添加到钱包后显示的网络名称\n            rpcUrls: [\n              'https://data-seed-prebsc-1-s1.binance.org:8545/', // rpc地址\n            ],\n            iconUrls: [\n              'https://testnet.hecoinfo.com/favicon.png' // 网络的图标，暂时没看到在哪里会显示\n            ],\n            blockExplorerUrls: [\n              'https://testnet.bscscan.com/' // 网络对应的区块浏览器\n            ],\n            nativeCurrency: {  // 网络主币的信息\n              name: 'tBNB',\n              symbol: 'tBNB',\n              decimals: 18\n            }\n          }]\n        });\n        console.log('no')\n      }else {\n        console.log('yes')\n      }\n\n      //！链id不是马上拿到的，如果通过链id来判断是不是主网的方式，请注意异步\n    },\n\n  },\n  filters: {\n    ellipsis(value) {\n      let len = value.length;\n      if (!value) return \"\";\n      if (value.length > 8) {\n        return value.substring(0, 4) + \"...\" + value.substring(len - 4, len);\n      }\n      return value;\n    },\n  },\n}\n</script>\n<style>\n\n.van-cell {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 10px 16px;\n  overflow: hidden;\n  color: #323233;\n  font-size: 14px;\n  line-height: 24px;\n  background-color: #fff;\n  border: 1px solid #000;\n  margin-top: 0.5rem;\n}\n.van-count-down {\n  color: #ffffff;\n  font-size: 1rem;\n  line-height: 20px;\n  flex: 1;\n  margin: 0.5rem;\n}\n.flex1 {\n  flex: 1;\n}\n\n.van-cell::after {\n  border-bottom: 0;\n}\n\n.van-field__control {\n  color: #000\n}\n\n.canvas_code canvas {\n  color: #ffffff;\n  background: #ffffff;\n  border: 2px solid #F2CD36;\n  box-sizing: border-box;\n  border-radius: .6rem;\n}\n\n.dialog_alert.confirm_dialog .van-dialog__footer {\n  padding: 8px 24px 5px;\n}\n\n.dialog_alert .van-goods-action-button--danger {\n  background: none\n}\n\n.dialog_alert.confirm_dialog .van-button__content {\n  border-right: 0;\n}\n.van-cell__right-icon {\n  margin-right: 10rem;\n}\nhtml, body {\n  background: #16171D;\n}\n\n/*折叠面板*/\n.instruction_top .van-cell, .instruction_top .van-collapse-item__content {\n  background: none;\n  color: #ffffff;\n  font-size: 1rem;\n}\n\n.instruction_top .van-collapse-item__content {\n  font-size: 0.8rem;\n}\n\n.van-hairline--top-bottom::after, .van-hairline-unset--top-bottom::after {\n  border-width: 0 0;\n}\n\n.instruction_top .van-cell::after {\n  border-bottom: 0px solid #ebedf0;\n  color: #ffffff;\n}\n\n[class*=van-hairline]::after {\n  border: 0 solid #F2CD36;\n}\n\n.van-dialog {\n  /*border: 2px solid #F2CD36;*/\n  box-sizing: border-box;\n  /*background-color: #16171D;*/\n  border: solid 2px transparent;\n  border-radius: 10px;\n  background-image: linear-gradient(#16171D, #16171D),\n  linear-gradient(to right, #F5D037, #E9B410);\n  background-origin: border-box;\n  background-clip: content-box, border-box;\n}\n\n.van-button--default {\n  background-color: #16171D\n}\n\n.confirm_dialog .van-dialog__header, .confirm_dialog .van-dialog__message--has-title, .confirm_dialog .van-button--default {\n  color: #ffffff;\n}\n\n.confirm_dialog .van-dialog__footer {\n  border-top: 2px solid #F2CD36\n}\n\n.confirm_dialog .van-button__content {\n  border-right: 2px solid #F2CD36;\n}\n\n.van-dialog__cancel .van-button__text {\n  color: #666666\n}\n\n.van-hairline--left .van-button__content {\n  border-right: 0;\n}\n\n.van-goods-action {\n  background: none;\n}\n\n.van-dialog--round-button .van-dialog__message {\n  padding-top: 14px;\n  padding-bottom: 27px;\n}\n</style>\n<style scoped>\ninput.van-field__control {\n  color: #000000;\n\n}\n.addr {\n  height: 1.2rem;\n  line-height: 1.2rem;\n  width: 86%;\n}\n\n.justify-content_center {\n  justify-content: center;\n}\n\n.qr_code .egg_title {\n  width: 100%;\n}\n\n.copybtn {\n  width: 30px;\n  height: 20px;\n  background: url(../../assets/image/copybutton.png) no-repeat;\n  background-size: 100% 100%;\n}\n\n\n.addrbg {\n  width: 85%;\n  margin: 0 auto;\n  background: url(../../assets/image/bg.png) no-repeat;\n  background-size: 100% auto;\n  padding-top: 5.5rem;\n  padding-left: 2rem;\n  padding-bottom: 5rem;\n}\n\n.egginput.van-cell {\n  background: none;\n  border: 1px solid #666666;\n  border-radius: 10px;\n  height: 30px;\n  padding: 0;\n  line-height: 30px;\n  font-size: 0.8rem;\n  width: 85%;\n}\n\n.egg_title_txt {\n  background-image: -webkit-linear-gradient(right, #F5D037, #E9B410);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-size: 1rem;\n  font-weight: bold;\n  margin-top: .5rem;\n}\n.ks_button{\n  width: 5rem;\n  text-align: center;\n  background-color: #585353;\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n}\n.sq_button{\n  width: 5rem;\n  text-align: center;\n  background-color: #585353;\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  flex: 1;\n  margin-top: 1rem;\n  font-size: 1.2rem;\n  color: #fff;\n}\n.egg_title {\n  width: 90%;\n  display: flex;\n}\n.my-swipe .van-swipe-item {\n  color: #fff;\n  font-size: 20px;\n  line-height: 150px;\n  text-align: center;\n  background-color: #39a9ed;\n}\n</style>\n"]}]}