{"remainingRequest":"/Users/sanxun/Downloads/daou/node_modules/babel-loader/lib/index.js!/Users/sanxun/Downloads/daou/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sanxun/Downloads/daou/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sanxun/Downloads/daou/src/views/index/success.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sanxun/Downloads/daou/src/views/index/success.vue","mtime":1645239023000},{"path":"/Users/sanxun/Downloads/daou/babel.config.js","mtime":1644982795000},{"path":"/Users/sanxun/Downloads/daou/node_modules/cache-loader/dist/cjs.js","mtime":1649646770389},{"path":"/Users/sanxun/Downloads/daou/node_modules/babel-loader/lib/index.js","mtime":1652067222450},{"path":"/Users/sanxun/Downloads/daou/node_modules/cache-loader/dist/cjs.js","mtime":1649646770389},{"path":"/Users/sanxun/Downloads/daou/node_modules/vue-loader/lib/index.js","mtime":1658193519060}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgVG9hc3QgfSBmcm9tICJ2YW50IjsKaW1wb3J0IHsgZWdnV2FsbGV0LCBlZ2dDb2RlcyB9IGZyb20gIkAvdXRpbHMvTWFwcGluZyI7CmltcG9ydCBXZWIzIGZyb20gIndlYjMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInN1Y2Nlc3MiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgRUdHOiAnJywKICAgICAgZGVmYXVsdEFkZHJlc3M6ICcnCiAgICB9OwogIH0sCgogIC8v5Yid5aeL5YyWCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGF3YWl0IHRoaXMuaW5pdFdlYjNBY2NvdW50KCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgaW5pdFdlYjNBY2NvdW50KCkgewogICAgICBUb2FzdC5sb2FkaW5nKHsKICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICBtZXNzYWdlOiAiTG9hZGluZy4uIiwKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZQogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coImluaXRXZWIzQWNjb3VudCDmlrnms5XmiafooYzkuoYtLS0tLS0tIik7IC8vIOajgOafpeaWsOeJiE1ldGFNYXNrCgogICAgICBpZiAod2luZG93LmV0aGVyZXVtKSB7CiAgICAgICAgdGhpcy5wcm92aWRlciA9IHdpbmRvdy5ldGhlcmV1bTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIC8vIOivt+axgueUqOaIt+i0puWPt+aOiOadgwogICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLmVuYWJsZSgpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAvLyDnlKjmiLfmi5Lnu53kuoborr/pl64KICAgICAgICAgIGNvbnNvbGUubG9nKCJVc2VyIGRlbmllZCBhY2NvdW50IGFjY2VzcyIpOwogICAgICAgIH0KICAgICAgfSAvLyDogIHniYggTWV0YU1hc2sKICAgICAgZWxzZSBpZiAod2luZG93LndlYjMpIHsKICAgICAgICB0aGlzLnByb3ZpZGVyID0gd2luZG93LndlYjMuY3VycmVudFByb3ZpZGVyOwogICAgICB9IC8vIOWmguaenOayoeacieazqOWFpeeahHdlYjPlrp7kvovvvIzlm57pgIDliLDkvb/nlKggR2FuYWNoZQogICAgICBlbHNlIHsKICAgICAgICBhbGVydCgi6K+35a6J6KOFTWV0YU1hc2shIik7CiAgICAgICAgdGhpcy5wcm92aWRlciA9IG5ldyBXZWIzLnByb3ZpZGVycy5IdHRwUHJvdmlkZXIoImh0dHA6Ly8xMjcuMC4wLjE6NzU0NSIpOwogICAgICB9CgogICAgICB0aGlzLndlYjMgPSBuZXcgV2ViMyh0aGlzLnByb3ZpZGVyKTsKICAgICAgdGhpcy53ZWIzLmV0aC5nZXRBY2NvdW50cygpLnRoZW4oYWNjcyA9PiB7CiAgICAgICAgdGhpcy5kZWZhdWx0QWRkcmVzcyA9IGFjY3NbMF07CiAgICAgICAgY29uc29sZS5sb2coYWNjcyk7CiAgICAgICAgZWdnV2FsbGV0KCkudGhlbihyZXMgPT4gewogICAgICAgICAgY29uc29sZS5sb2coJ0VHR+aMh+WumumSseWMheWcsOWdgDonLCByZXMpOyAvLyBjb25zb2xlLmxvZyhyZXMpCgogICAgICAgICAgdGhpcy5FR0cgPSByZXM7CiAgICAgICAgICBUb2FzdC5jbGVhcigpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgLy8g5aSN5Yi2CiAgICBjb3B5KCkgewogICAgICB0aGlzLiRjb3B5VGV4dCh0aGlzLkVHRykudGhlbihmdW5jdGlvbiAoZSkgewogICAgICAgIFRvYXN0KCflpI3liLbmiJDlip8nKTsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBUb2FzdCgn5aSN5Yi25aSx6LSlJyk7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKCiAgICByb3V0ZXJpbmRleCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvdmVyaWZpY2F0aW9uIgogICAgICB9KTsKICAgIH0sCgogICAgZWdnQ29kZXMoKSB7CiAgICAgIGVnZ0NvZGVzKHRoaXMuZGVmYXVsdEFkZHJlc3MpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AAuBA;AACA;AACA;AACA;EACAA,eADA;;EAEAC;IACA;MACAC,OADA;MAEAC;IAFA;EAIA,CAPA;;EAQA;EACA;IACA;EACA,CAXA;;EAaAC;IACA;MACAC;QACAC,WADA;QAEAC,oBAFA;QAGAC;MAHA;MAKAC,4CANA,CAOA;;MACA;QACA;;QACA;UACA;UACA;QACA,CAHA,CAGA;UACA;UACAA;QACA;MACA,CATA,CAUA;MAVA,KAWA;QACA;MACA,CAFA,CAGA;MAHA,KAIA;QACAC;QACA;MACA;;MACA;MACA;QACA;QACAD;QACAE;UACAF,+BADA,CAEA;;UACA;UACAJ;QACA,CALA;MAMA,CATA;IAUA,CAvCA;;IAwCA;IACAO;MACA;QACAP;QACAI;MACA,CAHA,EAGA;QACAJ;QACAI;MACA,CANA;IAOA,CAjDA;;IAkDAI;MACA;QAAAC;MAAA;IACA,CApDA;;IAqDAC;MACAA;QACAN;MACA,CAFA;IAGA;;EAzDA;AAbA","names":["name","data","EGG","defaultAddress","methods","Toast","duration","message","forbidClick","console","alert","eggWallet","copy","routerindex","path","eggCodes"],"sourceRoot":"src/views/index","sources":["success.vue"],"sourcesContent":["<template>\n<div>\n  <div class=\"s0 f16 center mt2\">ETF映射</div>\n  <div class=\"successico mt10\"></div>\n  <p class=\"s0 f16 center mt2 ml5\">绑定成功！</p>\n  <p class=\"f10 s1 center  ml5 mr5\">1.绑定先转一笔验签数量的EGG到钱包进行验签</p>\n  <p class=\"f10 s1 center  ml5 mr5\">2.转入成功后,再把ETF转入指定钱包中完成映射</p>\n\n  <div class=\"border_radius f16 mt5\">\n    <div class=\"egg_title mt2\">\n      <div class=\"egg_title_txt\" @click=\"routerindex\">去验签</div>\n    </div>\n  </div>\n\n<!--  <div class=\"border_radius f16 mt5\">-->\n<!--  <div class=\"egg_title mt2\">-->\n<!--    <div class=\"egg_title_txt\" @click=\"eggCodes\">随机码查询</div>-->\n<!--  </div>-->\n<!--  </div>-->\n</div>\n</template>\n\n<script>\nimport {Toast} from \"vant\";\nimport {eggWallet,eggCodes} from \"@/utils/Mapping\";\nimport Web3 from \"web3\";\nexport default {\n  name: \"success\",\n  data(){\n    return{\n      EGG: '',\n      defaultAddress: '',\n    }\n  },\n  //初始化\n  async created(){\n    await this.initWeb3Account()\n  },\n\n  methods:{\n    async initWeb3Account() {\n        Toast.loading({\n          duration: 0,\n          message: \"Loading..\",\n          forbidClick: true\n        });\n      console.log(\"initWeb3Account 方法执行了-------\");\n      // 检查新版MetaMask\n      if (window.ethereum) {\n        this.provider = window.ethereum;\n        try {\n          // 请求用户账号授权\n          await window.ethereum.enable();\n        } catch (error) {\n          // 用户拒绝了访问\n          console.log(\"User denied account access\");\n        }\n      }\n      // 老版 MetaMask\n      else if (window.web3) {\n        this.provider = window.web3.currentProvider;\n      }\n      // 如果没有注入的web3实例，回退到使用 Ganache\n      else {\n        alert(\"请安装MetaMask!\");\n        this.provider = new Web3.providers.HttpProvider(\"http://127.0.0.1:7545\");\n      }\n      this.web3 = new Web3(this.provider);\n      this.web3.eth.getAccounts().then(accs => {\n        this.defaultAddress = accs[0]\n        console.log(accs)\n        eggWallet().then((res) => {\n          console.log('EGG指定钱包地址:', res)\n          // console.log(res)\n          this.EGG = res\n          Toast.clear();\n        });\n      })\n    },\n    // 复制\n    copy() {\n      this.$copyText(this.EGG).then(function (e) {\n        Toast('复制成功');\n        console.log(e)\n      }, function (e) {\n        Toast('复制失败');\n        console.log(e)\n      })\n    },\n    routerindex(){\n      this.$router.push({ path: \"/verification\" });\n    },\n    eggCodes(){\n      eggCodes(this.defaultAddress).then((res) => {\n        console.log(res)\n      });\n    }\n  }\n}\n</script>\n<style>\n.border_bottom{\n  padding-bottom: 5%;\n  border-bottom: 1px dashed #7C7C7D;\n}\nhtml, body {\n  background: #16171D;\n}\n.canvas_code canvas {\n  color: #ffffff;\n  background: #ffffff;\n  border: 2px solid #F2CD36;\n  box-sizing: border-box;\n  border-radius: .6rem;\n}\n</style>\n<style scoped>\n.successico{width: 60px;height: 60px;background:url(../../assets/image/finishico.png)no-repeat;background-size: 100% 100%;margin: 0 auto;margin-top: 10%;}\n.egg_title_txt {\n  background-image: -webkit-linear-gradient(right, #F5D037, #E9B410);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-size: 1rem;\n  font-weight: bold;\n}\n\n.egg_title {\n  width: 90%;\n  display: flex;\n}\n.justify-content_center{    justify-content: center;}\n.qr_code .egg_title{width: 100%;}\n.copybtn {\n  width: 30px;\n  height: 20px;\n  background: url(../../assets/image/copybutton.png) no-repeat;\n  background-size: 100% 100%;\n}\n</style>\n"]}]}