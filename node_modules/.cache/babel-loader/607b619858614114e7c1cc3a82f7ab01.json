{"remainingRequest":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/thread-loader/dist/cjs.js!/Users/sanxun/Downloads/egg_bsc-master/node_modules/babel-loader/lib/index.js!/Users/sanxun/Downloads/egg_bsc-master/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sanxun/Downloads/egg_bsc-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sanxun/Downloads/egg_bsc-master/src/views/index/success.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sanxun/Downloads/egg_bsc-master/src/views/index/success.vue","mtime":1645239023640},{"path":"/Users/sanxun/Downloads/egg_bsc-master/babel.config.js","mtime":1644982795000},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/cache-loader/dist/cjs.js","mtime":1644989844798},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/thread-loader/dist/cjs.js","mtime":1644989844777},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/babel-loader/lib/index.js","mtime":1644989844828},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/cache-loader/dist/cjs.js","mtime":1644989844798},{"path":"/Users/sanxun/Downloads/egg_bsc-master/node_modules/vue-loader/lib/index.js","mtime":1644989857412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zYW54dW4vRG93bmxvYWRzL2VnZ19ic2MtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBUb2FzdCB9IGZyb20gInZhbnQiOwppbXBvcnQgeyBlZ2dXYWxsZXQsIGVnZ0NvZGVzIGFzIF9lZ2dDb2RlcyB9IGZyb20gIkAvdXRpbHMvTWFwcGluZyI7CmltcG9ydCBXZWIzIGZyb20gIndlYjMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInN1Y2Nlc3MiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBFR0c6ICcnLAogICAgICBkZWZhdWx0QWRkcmVzczogJycKICAgIH07CiAgfSwKICAvL+WIneWni+WMlgogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaW5pdFdlYjNBY2NvdW50KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0V2ViM0FjY291bnQ6IGZ1bmN0aW9uIGluaXRXZWIzQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgVG9hc3QubG9hZGluZyh7CiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiTG9hZGluZy4uIiwKICAgICAgICAgICAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImluaXRXZWIzQWNjb3VudCDmlrnms5XmiafooYzkuoYtLS0tLS0tIik7IC8vIOajgOafpeaWsOeJiE1ldGFNYXNrCgogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLnByb3ZpZGVyID0gd2luZG93LmV0aGVyZXVtOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5ldGhlcmV1bS5lbmFibGUoKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgICAvLyDnlKjmiLfmi5Lnu53kuoborr/pl64KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJVc2VyIGRlbmllZCBhY2NvdW50IGFjY2VzcyIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy53ZWIzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm92aWRlciA9IHdpbmRvdy53ZWIzLmN1cnJlbnRQcm92aWRlcjsKICAgICAgICAgICAgICAgIH0gLy8g5aaC5p6c5rKh5pyJ5rOo5YWl55qEd2ViM+WunuS+i++8jOWbnumAgOWIsOS9v+eUqCBHYW5hY2hlCiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgYWxlcnQoIuivt+WuieijhU1ldGFNYXNrISIpOwogICAgICAgICAgICAgICAgICBfdGhpczIucHJvdmlkZXIgPSBuZXcgV2ViMy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKCJodHRwOi8vMTI3LjAuMC4xOjc1NDUiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF90aGlzMi53ZWIzID0gbmV3IFdlYjMoX3RoaXMyLnByb3ZpZGVyKTsKCiAgICAgICAgICAgICAgICBfdGhpczIud2ViMy5ldGguZ2V0QWNjb3VudHMoKS50aGVuKGZ1bmN0aW9uIChhY2NzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5kZWZhdWx0QWRkcmVzcyA9IGFjY3NbMF07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFjY3MpOwogICAgICAgICAgICAgICAgICBlZ2dXYWxsZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRUdH5oyH5a6a6ZKx5YyF5Zyw5Z2AOicsIHJlcyk7IC8vIGNvbnNvbGUubG9nKHJlcykKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLkVHRyA9IHJlczsKICAgICAgICAgICAgICAgICAgICBUb2FzdC5jbGVhcigpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzQsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWkjeWItgogICAgY29weTogZnVuY3Rpb24gY29weSgpIHsKICAgICAgdGhpcy4kY29weVRleHQodGhpcy5FR0cpLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICBUb2FzdCgn5aSN5Yi25oiQ5YqfJyk7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgVG9hc3QoJ+WkjeWItuWksei0pScpOwogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCiAgICByb3V0ZXJpbmRleDogZnVuY3Rpb24gcm91dGVyaW5kZXgoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL3ZlcmlmaWNhdGlvbiIKICAgICAgfSk7CiAgICB9LAogICAgZWdnQ29kZXM6IGZ1bmN0aW9uIGVnZ0NvZGVzKCkgewogICAgICBfZWdnQ29kZXModGhpcy5kZWZhdWx0QWRkcmVzcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACAA,iBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,aADA;AAEAC;AAFA;AAIA,GAPA;AAQA;AACAC,SATA,qBASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,uBADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,GAXA;AAaAC;AACAC,mBADA,6BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACAC;AACAC,6BADA;AAEAC,sCAFA;AAGAC;AAHA;AAKAC,4DANA,CAOA;;AAPA,qBAQAC,eARA;AAAA;AAAA;AAAA;;AASA;AATA;AAAA;AAAA,uBAYAA,wBAZA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAcA;AACAD;;AAfA;AAAA;AAAA;;AAAA;AAmBA;AACA;AACA,iBAFA,CAGA;AAHA,qBAIA;AACAE;AACA;AACA;;AA1BA;AA2BA;;AACA;AACA;AACAF;AACAG;AACAH,mDADA,CAEA;;AACA;AACAJ;AACA,mBALA;AAMA,iBATA;;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsCA,KAvCA;AAwCA;AACAQ,QAzCA,kBAyCA;AACA;AACAR;AACAI;AACA,OAHA,EAGA;AACAJ;AACAI;AACA,OANA;AAOA,KAjDA;AAkDAK,eAlDA,yBAkDA;AACA;AAAAC;AAAA;AACA,KApDA;AAqDAC,YArDA,sBAqDA;AACAA;AACAP;AACA,OAFA;AAGA;AAzDA;AAbA","names":["name","data","EGG","defaultAddress","created","methods","initWeb3Account","Toast","duration","message","forbidClick","console","window","alert","eggWallet","copy","routerindex","path","eggCodes"],"sourceRoot":"src/views/index","sources":["success.vue"],"sourcesContent":["<template>\n<div>\n  <div class=\"s0 f16 center mt2\">ETF映射</div>\n  <div class=\"successico mt10\"></div>\n  <p class=\"s0 f16 center mt2 ml5\">绑定成功！</p>\n  <p class=\"f10 s1 center  ml5 mr5\">1.绑定先转一笔验签数量的EGG到钱包进行验签</p>\n  <p class=\"f10 s1 center  ml5 mr5\">2.转入成功后,再把ETF转入指定钱包中完成映射</p>\n\n  <div class=\"border_radius f16 mt5\">\n    <div class=\"egg_title mt2\">\n      <div class=\"egg_title_txt\" @click=\"routerindex\">去验签</div>\n    </div>\n  </div>\n\n<!--  <div class=\"border_radius f16 mt5\">-->\n<!--  <div class=\"egg_title mt2\">-->\n<!--    <div class=\"egg_title_txt\" @click=\"eggCodes\">随机码查询</div>-->\n<!--  </div>-->\n<!--  </div>-->\n</div>\n</template>\n\n<script>\nimport {Toast} from \"vant\";\nimport {eggWallet,eggCodes} from \"@/utils/Mapping\";\nimport Web3 from \"web3\";\nexport default {\n  name: \"success\",\n  data(){\n    return{\n      EGG: '',\n      defaultAddress: '',\n    }\n  },\n  //初始化\n  async created(){\n    await this.initWeb3Account()\n  },\n\n  methods:{\n    async initWeb3Account() {\n        Toast.loading({\n          duration: 0,\n          message: \"Loading..\",\n          forbidClick: true\n        });\n      console.log(\"initWeb3Account 方法执行了-------\");\n      // 检查新版MetaMask\n      if (window.ethereum) {\n        this.provider = window.ethereum;\n        try {\n          // 请求用户账号授权\n          await window.ethereum.enable();\n        } catch (error) {\n          // 用户拒绝了访问\n          console.log(\"User denied account access\");\n        }\n      }\n      // 老版 MetaMask\n      else if (window.web3) {\n        this.provider = window.web3.currentProvider;\n      }\n      // 如果没有注入的web3实例，回退到使用 Ganache\n      else {\n        alert(\"请安装MetaMask!\");\n        this.provider = new Web3.providers.HttpProvider(\"http://127.0.0.1:7545\");\n      }\n      this.web3 = new Web3(this.provider);\n      this.web3.eth.getAccounts().then(accs => {\n        this.defaultAddress = accs[0]\n        console.log(accs)\n        eggWallet().then((res) => {\n          console.log('EGG指定钱包地址:', res)\n          // console.log(res)\n          this.EGG = res\n          Toast.clear();\n        });\n      })\n    },\n    // 复制\n    copy() {\n      this.$copyText(this.EGG).then(function (e) {\n        Toast('复制成功');\n        console.log(e)\n      }, function (e) {\n        Toast('复制失败');\n        console.log(e)\n      })\n    },\n    routerindex(){\n      this.$router.push({ path: \"/verification\" });\n    },\n    eggCodes(){\n      eggCodes(this.defaultAddress).then((res) => {\n        console.log(res)\n      });\n    }\n  }\n}\n</script>\n<style>\n.border_bottom{\n  padding-bottom: 5%;\n  border-bottom: 1px dashed #7C7C7D;\n}\nhtml, body {\n  background: #16171D;\n}\n.canvas_code canvas {\n  color: #ffffff;\n  background: #ffffff;\n  border: 2px solid #F2CD36;\n  box-sizing: border-box;\n  border-radius: .6rem;\n}\n</style>\n<style scoped>\n.successico{width: 60px;height: 60px;background:url(../../assets/image/finishico.png)no-repeat;background-size: 100% 100%;margin: 0 auto;margin-top: 10%;}\n.egg_title_txt {\n  background-image: -webkit-linear-gradient(right, #F5D037, #E9B410);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-size: 1rem;\n  font-weight: bold;\n}\n\n.egg_title {\n  width: 90%;\n  display: flex;\n}\n.justify-content_center{    justify-content: center;}\n.qr_code .egg_title{width: 100%;}\n.copybtn {\n  width: 30px;\n  height: 20px;\n  background: url(../../assets/image/copybutton.png) no-repeat;\n  background-size: 100% 100%;\n}\n</style>\n"]}]}