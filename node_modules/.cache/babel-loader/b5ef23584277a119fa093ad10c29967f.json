{"remainingRequest":"/Users/sanxun/Downloads/cxc_bsc/node_modules/babel-loader/lib/index.js!/Users/sanxun/Downloads/cxc_bsc/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sanxun/Downloads/cxc_bsc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sanxun/Downloads/cxc_bsc/src/views/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sanxun/Downloads/cxc_bsc/src/views/index/index.vue","mtime":1647005679195},{"path":"/Users/sanxun/Downloads/cxc_bsc/babel.config.js","mtime":1644982795000},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/cache-loader/dist/cjs.js","mtime":1644989844798},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/babel-loader/lib/index.js","mtime":1644989844828},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/cache-loader/dist/cjs.js","mtime":1644989844798},{"path":"/Users/sanxun/Downloads/cxc_bsc/node_modules/vue-loader/lib/index.js","mtime":1644989857412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zYW54dW4vRG93bmxvYWRzL2N4Y19ic2Mvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9zYW54dW4vRG93bmxvYWRzL2N4Y19ic2Mvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKCnZhciBfY29tcG9uZW50czsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IENvbGxhcHNlLCBDb2xsYXBzZUl0ZW0sIEZpZWxkLCBEaWFsb2csIFRvYXN0LCBMb2FkaW5nLCBMYXp5bG9hZCwgU3dpcGUsIFN3aXBlSXRlbSwgSWNvbiwgSW1hZ2UgYXMgVmFuSW1hZ2UsIENvdW50RG93biwgUG9wdXAsIENlbGwsIENlbGxHcm91cCwgUHJvZ3Jlc3MgfSBmcm9tICJ2YW50IjsKaW1wb3J0IHsgYWxsb3dhbmNlLCBhcHByb3ZlLCBiYWxhbmNlT2YsIGJlZ2luLCBDWENTdXBwb3J0UGVyRGF5LCBkdXJhdGlvbiwgcmF0ZUNYMkNYQywgcmVtYWluLCBzZWNraWxsLCBjYW4gfSBmcm9tICJAL3V0aWxzL01hcHBpbmciOwppbXBvcnQgV2ViMyBmcm9tICJ3ZWIzIjsgLy8gaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCmltcG9ydCB7IGZvcm1hdERhdGUgYXMgX2Zvcm1hdERhdGUgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IFZjb2RlIGZyb20gInZ1ZS1wdXp6bGUtdmNvZGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluZGV4IiwKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yVGV4dDogIiIsCiAgICAgIGRlZmF1bHRBZGRyZXNzOiAnJywKICAgICAgYmluZDogZmFsc2UsCiAgICAgIHRpbWUxOiAwLAogICAgICB0aW1lMjogMCwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIHZhbHVlMTogJycsCiAgICAgIHZhbHVlMjogJzAnLAogICAgICBzdGFyX3RpbWU6ICcwJywKICAgICAgZW5kX3RpbWU6ICcwJywKICAgICAgYWxsbnVtOiAwLAogICAgICBiYWxhbmNlOiAwLAogICAgICByYXRlOiAwLAogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICBpc1NxOiBmYWxzZSwKICAgICAgcmVtYWluOiAwLAogICAgICBiZWdpbjogMCwKICAgICAgZHVyYXRpb246IDAsCiAgICAgIHBlcmNlbnRhZ2U6IDAKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5mbigpOwogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlMTogZnVuY3Rpb24gdmFsdWUxKHZhbCkgewogICAgICB0aGlzLnZhbHVlMiA9IHZhbCAvIHRoaXMucmF0ZTsKICAgICAgY29uc29sZS5sb2codmFsKTsKCiAgICAgIGlmICh2YWwgPiAxMDAwMDAwMCkgewogICAgICAgIHRoaXMudmFsdWUxID0gMTAwMDAwMDAwOwogICAgICB9CgogICAgICBpZiAocGFyc2VJbnQodGhpcy52YWx1ZTIpID4gcGFyc2VJbnQodGhpcy5yZW1haW4pKSB7CiAgICAgICAgdGhpcy52YWx1ZTIgPSB0aGlzLnJlbWFpbjsKICAgICAgICB0aGlzLnZhbHVlMSA9IHRoaXMudmFsdWUyICogMTAwMDAwOwogICAgICB9CgogICAgICBpZiAodmFsID4gcGFyc2VJbnQodGhpcy5iYWxhbmNlKSkgewogICAgICAgIHRoaXMudmFsdWUxID0gdGhpcy5iYWxhbmNlOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiAoX2NvbXBvbmVudHMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBDb2xsYXBzZS5uYW1lLCBDb2xsYXBzZSksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgQ29sbGFwc2VJdGVtLm5hbWUsIENvbGxhcHNlSXRlbSksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgRmllbGQubmFtZSwgRmllbGQpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIERpYWxvZy5uYW1lLCBEaWFsb2cpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIERpYWxvZy5Db21wb25lbnQubmFtZSwgRGlhbG9nLkNvbXBvbmVudCksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgVG9hc3QubmFtZSwgVG9hc3QpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIExvYWRpbmcubmFtZSwgTG9hZGluZyksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgU3dpcGUubmFtZSwgU3dpcGUpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIFN3aXBlSXRlbS5uYW1lLCBTd2lwZUl0ZW0pLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIExhenlsb2FkLm5hbWUsIExhenlsb2FkKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBJY29uLm5hbWUsIEljb24pLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIFZhbkltYWdlLm5hbWUsIFZhbkltYWdlKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBDb3VudERvd24ubmFtZSwgQ291bnREb3duKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBQb3B1cC5uYW1lLCBQb3B1cCksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgQ2VsbC5uYW1lLCBDZWxsKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBDZWxsR3JvdXAubmFtZSwgQ2VsbEdyb3VwKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBQcm9ncmVzcy5uYW1lLCBQcm9ncmVzcyksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgIlZjb2RlIiwgVmNvZGUpLCBfY29tcG9uZW50cyksCiAgLy/liJ3lp4vljJYKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmluaXRXZWIzQWNjb3VudCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdFdlYjNBY2NvdW50OiBmdW5jdGlvbiBpbml0V2ViM0FjY291bnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIFRvYXN0LmxvYWRpbmcoewogICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIkxvYWRpbmcuLiIsCiAgICAgICAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbml0V2ViM0FjY291bnQg5pa55rOVIik7IC8vIOajgOafpeaWsOeJiE1ldGFNYXNrCgogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLnByb3ZpZGVyID0gd2luZG93LmV0aGVyZXVtOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5ldGhlcmV1bS5lbmFibGUoKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgICAvLyDnlKjmiLfmi5Lnu53kuoborr/pl64KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJVc2VyIGRlbmllZCBhY2NvdW50IGFjY2VzcyIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy53ZWIzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm92aWRlciA9IHdpbmRvdy53ZWIzLmN1cnJlbnRQcm92aWRlcjsKICAgICAgICAgICAgICAgIH0gLy8g5aaC5p6c5rKh5pyJ5rOo5YWl55qEd2ViM+WunuS+i++8jOWbnumAgOWIsOS9v+eUqCBHYW5hY2hlCiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgYWxlcnQoIuivt+WuieijhU1ldGFNYXNrISIpOwogICAgICAgICAgICAgICAgICBfdGhpczIucHJvdmlkZXIgPSBuZXcgV2ViMy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKCJodHRwOi8vMTI3LjAuMC4xOjc1NDUiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF90aGlzMi53ZWIzID0gbmV3IFdlYjMoX3RoaXMyLnByb3ZpZGVyKTsKCiAgICAgICAgICAgICAgICBfdGhpczIud2ViMy5ldGguZ2V0QWNjb3VudHMoKS50aGVuKGZ1bmN0aW9uIChhY2NzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5kZWZhdWx0QWRkcmVzcyA9IGFjY3NbMF07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFjY3MpOyAvL+S9meminQoKICAgICAgICAgICAgICAgICAgYmFsYW5jZU9mKF90aGlzMi5kZWZhdWx0QWRkcmVzcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcyAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5iYWxhbmNlID0gX3RoaXMyLndlYjMudXRpbHMuZnJvbVdlaShyZXMsICdtd2VpJyk7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY3jkvZnpop06JywgX3RoaXMyLmJhbGFuY2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7IC8vIOafpeivomN45o6I5p2D6aKd5bqmCgogICAgICAgICAgICAgICAgICBhbGxvd2FuY2UoX3RoaXMyLmRlZmF1bHRBZGRyZXNzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHNxID0gX3RoaXMyLndlYjMudXRpbHMuZnJvbVdlaShyZXMsICdtd2VpJyk7CgogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2N45o6I5p2D6aKd5bqmOicsIHNxKTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoc3EgPiAxMDAwMDAwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNTcSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsgLy8g5p+l6K+i5byA5aeL5pe26Ze05oizCgogICAgICAgICAgICAgICAgICBiZWdpbigpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAvL+WHjOaZqOaXtumXtAogICAgICAgICAgICAgICAgICAgICAgdmFyIGxjID0gbmV3IERhdGUobmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKSkuZ2V0VGltZSgpOwogICAgICAgICAgICAgICAgICAgICAgdmFyIGxjc2ogPSBwYXJzZUludChsYyAvIDEwMDApOwogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WHjOaZqOaXtumXtCcsIGxjc2opOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmJlZ2luID0gcGFyc2VJbnQocmVzKTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGFyX3RpbWUgPSBsY3NqICsgX3RoaXMyLmJlZ2luICsgMjg4MDA7IC8v5YqgOOWwj+aXtgoKICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vml7bpl7QnLCBfdGhpczIuc3Rhcl90aW1lKTsgLy/lvIDlp4vlgJLorqHml7YKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudGltZTEgPSAoX3RoaXMyLnN0YXJfdGltZSAtIHRpbWVzKSAqIDEwMDA7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5byA5aeL5YCS6K6h5pe2JywgX3RoaXMyLnRpbWUxKTsgLy8g5p+l6K+i5oyB57ut5pe26Ze06ZW/5bqmCgogICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcyAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZHVyYXRpb24gPSByZXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aMgee7reaXtumXtCcsIHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVuZF90aW1lID0gcGFyc2VJbnQoX3RoaXMyLnN0YXJfdGltZSkgKyBwYXJzZUludChfdGhpczIuZHVyYXRpb24pOwogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfnu5PmnZ/ml7bpl7QnLCBfdGhpczIuZW5kX3RpbWUpOyAvL+e7k+adn+WAkuiuoeaXtgoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudGltZTIgPSAoX3RoaXMyLmVuZF90aW1lIC0gdGltZXMpICogMTAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn57uT5p2f5YCS6K6h5pe2JywgX3RoaXMyLnRpbWUyKTsgLy/liankvZkw5YGc5q2i6LSt5LmwCgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIucmVtYWluIDwgMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmJpbmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpLmdldFRpbWUoKSArIDI0ICogNjAgKiA2MCAqIDEwMDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXJ0aW1lID0gcGFyc2VJbnQoc3RhcnQgLyAxMDAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmmI7lpKnnmoTml7bpl7QyJywgbXJ0aW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGFyX3RpbWUgPSBtcnRpbWUgKyBfdGhpczIuYmVnaW4gKyAyODgwMDsgLy/liqA45bCP5pe2CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+W8gOWni+aXtumXtDInLCBfdGhpczIuc3Rhcl90aW1lKTsgLy/lvIDlp4vlgJLorqHml7YKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudGltZTEgPSAoX3RoaXMyLnN0YXJfdGltZSAtIHRpbWVzKSAqIDEwMDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5byA5aeL5YCS6K6h5pe2MicsIF90aGlzMi50aW1lMSk7IC8v5piO5aSp55qE5pe26Ze0CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYW4oX3RoaXMyLmRlZmF1bHRBZGRyZXNzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYW4nLCByZXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5iaW5kID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3N0YXJ0ID0gbmV3IERhdGUobmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKSkuZ2V0VGltZSgpICsgMjQgKiA2MCAqIDYwICogMTAwMDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfbXJ0aW1lID0gcGFyc2VJbnQoX3N0YXJ0IC8gMTAwMCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5piO5aSp55qE5pe26Ze0MicsIF9tcnRpbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc3Rhcl90aW1lID0gX21ydGltZSArIF90aGlzMi5iZWdpbiArIDI4ODAwOyAvL+WKoDjlsI/ml7YKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vml7bpl7QyJywgX3RoaXMyLnN0YXJfdGltZSk7IC8v5byA5aeL5YCS6K6h5pe2CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudGltZTEgPSAoX3RoaXMyLnN0YXJfdGltZSAtIHRpbWVzKSAqIDEwMDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vlgJLorqHml7YyJywgX3RoaXMyLnRpbWUxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5iaW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShuZXcgRGF0ZShuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpKS5nZXRUaW1lKCkrMjQqNjAqNjAqMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7IC8vIOafpeivouavlOS+iwoKICAgICAgICAgICAgICAgICAgcmF0ZUNYMkNYQygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucmF0ZSA9IDEgLyByZXMgKiAxMDAwMDA7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5p+l6K+i5q+U5L6LJywgX3RoaXMyLnJhdGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7IC8vIOafpeivouaAu+mHjwoKICAgICAgICAgICAgICAgICAgQ1hDU3VwcG9ydFBlckRheSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuYWxsbnVtID0gX3RoaXMyLndlYjMudXRpbHMuZnJvbVdlaShyZXMsICdldGhlcicpOwogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+afpeivouaAu+mHjycsIF90aGlzMi5hbGxudW0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7IC8vIOWPluWJqeS9meaVsOmHjwoKICAgICAgICAgICAgICAgICAgcmVtYWluKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcyAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZW1haW4gPSBfdGhpczIud2ViMy51dGlscy5mcm9tV2VpKHJlcywgJ2V0aGVyJyk7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucGVyY2VudGFnZSA9IF90aGlzMi5yZW1haW47CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5Y+W5Ymp5L2Z5pWw6YePJywgX3RoaXMyLnJlbWFpbik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsgLy/lvZPliY3ml7bpl7QKCiAgICAgICAgICAgICAgICAgIHZhciB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgICAgICAgIHZhciB0aW1lcyA9IHBhcnNlSW50KHRpbWUgLyAxMDAwKTsgLy8gdGhpcy5zdGFyX3RpbWUgPSB0aW1lcyAlIDg2NDAwCgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5b2T5YmN5pe26Ze0JywgdGltZXMpOwoKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi50aW1lMSA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmJpbmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuYmluZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFRvYXN0LmNsZWFyKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1s0LCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaG93UG9wdXA6IGZ1bmN0aW9uIHNob3dQb3B1cCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyDlj5bliankvZnmlbDph48KICAgICAgcmVtYWluKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcyAhPT0gJycpIHsKICAgICAgICAgIF90aGlzMy5yZW1haW4gPSBfdGhpczMud2ViMy51dGlscy5mcm9tV2VpKHJlcywgJ2V0aGVyJyk7CiAgICAgICAgICBfdGhpczMucGVyY2VudGFnZSA9IF90aGlzMy5yZW1haW47CiAgICAgICAgICBjb25zb2xlLmxvZygn5Y+W5Ymp5L2Z5pWw6YePJywgX3RoaXMzLnJlbWFpbik7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBzcV9hZGQ6IGZ1bmN0aW9uIHNxX2FkZCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5iYWxhbmNlIDwgMTAwMDApIHsKICAgICAgICBUb2FzdC5mYWlsKCfmgqjnmoTkvZnpop3kuI3otrPvvIzml6Dms5Xnp5LmnYAnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBUb2FzdC5sb2FkaW5nKHsKICAgICAgICAgIGR1cmF0aW9uOiAwLAogICAgICAgICAgbWVzc2FnZTogIuWMuuWdl+aOiOadg+S4rS4uLiIsCiAgICAgICAgICBmb3JiaWRDbGljazogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIGFwcHJvdmUodGhpcy5kZWZhdWx0QWRkcmVzcywgdGhpcy53ZWIzLnV0aWxzLnRvV2VpKCI5OTk5OTk5OTk5IiwgJ213ZWknKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczQuaXNTcSA9IHRydWU7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgVG9hc3QuY2xlYXIoKTsKICAgICAgICAgIFRvYXN0LnN1Y2Nlc3MoJ+aOiOadg+aIkOWKnycpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIFRvYXN0LmNsZWFyKCk7CiAgICAgICAgICBUb2FzdC5mYWlsKCfmjojmnYPlpLHotKUnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHFyX2FkZDogZnVuY3Rpb24gcXJfYWRkKCkgewogICAgICB2YXIgbXN5ID0gdGhpcy5iYWxhbmNlOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnZhbHVlMSwgbXN5KTsKCiAgICAgIGlmIChwYXJzZUludChtc3kpIDwgMTAwMDApIHsKICAgICAgICBUb2FzdC5mYWlsKCfmgqjnmoTkvZnpop3kuI3otrPvvIzml6Dms5Xnp5LmnYAnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzU2hvdyA9IHRydWU7CiAgICAgIH0gLy8gZWxzZSBpZihwYXJzZUludCh0aGlzLnZhbHVlMikgPiBwYXJzZUludChjYykgKXsKICAgICAgLy8gICBUb2FzdC5mYWlsKCfotoXlh7rliankvZnnp5LmnYDmlbDph48nKTsKICAgICAgLy8gfQogICAgICAvLyBlbHNlIGlmKHBhcnNlSW50KHRoaXMudmFsdWUxKSA8IDEgfHwgdGhpcy52YWx1ZTEgPT0gJycpewogICAgICAvLyAgIFRvYXN0LmZhaWwoJ+ivt+i+k+WFpeato+ehrueahENY5pWw6YePJyk7CiAgICAgIC8vIH1lbHNlIHsKICAgICAgLy8gICB0aGlzLmlzU2hvdyA9IHRydWU7CiAgICAgIC8vIH0KCiAgICB9LAogICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goKSB7CiAgICAgIHRoaXMuYmluZCA9IHRydWU7IC8vIHRoaXMudGltZTI9IDEyMCoxMDAwOwoKICAgICAgY29uc29sZS5sb2coJ+W8gOWni+WAkuiuoeaXtue7k+adnycpOyAvLyBUb2FzdCgn5byA5aeL5YCS6K6h5pe257uT5p2fJyk7CiAgICB9LAogICAgZmluaXNoczogZnVuY3Rpb24gZmluaXNocygpIHsKICAgICAgdGhpcy5iaW5kID0gZmFsc2U7CiAgICAgIGNvbnNvbGUubG9nKCfnu5PmnZ/lgJLorqHml7bnu5PmnZ8nKTsgLy8gVG9hc3QoJ+e7k+adn+WAkuiuoeaXtue7k+adnycpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy52YWx1ZTEgPSAnJzsKICAgICAgdGhpcy52YWx1ZTIgPSAnMCc7CiAgICB9LAogICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTsgLy8g6YCa6L+H6aqM6K+B5ZCO77yM6ZyA6KaB5omL5Yqo5YWz6Zet5qih5oCB5qGGCgogICAgICBUb2FzdC5sb2FkaW5nKHsKICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICBtZXNzYWdlOiAi56eS5p2A5LitLi4uIiwKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZQogICAgICB9KTsKICAgICAgc2Vja2lsbCh0aGlzLmRlZmF1bHRBZGRyZXNzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIFRvYXN0LmNsZWFyKCk7CiAgICAgICAgVG9hc3Quc3VjY2Vzcygn56eS5p2A5oiQ5YqfJyk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM1LnRlc3RGdW5jdGlvbigpOwogICAgICAgIH0sIDIwMDApOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBUb2FzdC5jbGVhcigpOwogICAgICAgIFRvYXN0LmZhaWwoJ+enkuadgOWksei0pScpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNS50ZXN0RnVuY3Rpb24oKTsKICAgICAgICB9LCAyMDAwKTsKICAgICAgfSk7CiAgICB9LAogICAgdGVzdEZ1bmN0aW9uOiBmdW5jdGlvbiB0ZXN0RnVuY3Rpb24oKSB7CiAgICAgIHRoaXMucmVsb2FkKCk7CiAgICB9LAogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTsKICAgIH0sCiAgICBmbjogZnVuY3Rpb24gZm4oKSB7CiAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbigiYWNjb3VudHNDaGFuZ2VkIiwgZnVuY3Rpb24gKGFjY291bnRzKSB7CiAgICAgICAgY29uc29sZS5sb2coYWNjb3VudHNbMF0pOyAvL+S4gOaXpuWIh+aNoui0puWPt+i/memHjOWwseS8muaJp+ihjAoKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pOwogICAgICB3aW5kb3cuZXRoZXJldW0ub24oImNoYWluQ2hhbmdlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygn6ZO+5YiH5o2iJyk7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDaGFpbklkOiBmdW5jdGlvbiBnZXRDaGFpbklkKCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgaWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlkID0gd2luZG93LmV0aGVyZXVtLmNoYWluSWQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpZCk7CgogICAgICAgICAgICAgICAgaWYgKGlkICE9ICcweDM4JykgewogICAgICAgICAgICAgICAgICB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLAogICAgICAgICAgICAgICAgICAgIC8vIE1ldGFtYXNr55qEYXBp5ZCN56ewCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbewogICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogIjB4MzgiLAogICAgICAgICAgICAgICAgICAgICAgLy8g572R57ucaWTvvIwxNui/m+WItueahOWtl+espuS4sgogICAgICAgICAgICAgICAgICAgICAgY2hhaW5OYW1lOiAiQk5CIFNtYXJ0IENoYWluIE1haW5uZXQiLAogICAgICAgICAgICAgICAgICAgICAgLy8g5re75Yqg5Yiw6ZKx5YyF5ZCO5pi+56S655qE572R57uc5ZCN56ewCiAgICAgICAgICAgICAgICAgICAgICBycGNVcmxzOiBbJ2h0dHBzOi8vYnNjLWRhdGFzZWVkMS5uaW5pY29pbi5pby8nIC8vIHJwY+WcsOWdgAogICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICAgIGljb25VcmxzOiBbJ2h0dHBzOi8vdGVzdG5ldC5oZWNvaW5mby5jb20vZmF2aWNvbi5wbmcnIC8vIOe9kee7nOeahOWbvuagh++8jOaaguaXtuayoeeci+WIsOWcqOWTqumHjOS8muaYvuekugogICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICAgIGJsb2NrRXhwbG9yZXJVcmxzOiBbJ2h0dHBzOi8vYnNjc2Nhbi5jb20vJyAvLyDnvZHnu5zlr7nlupTnmoTljLrlnZfmtY/op4jlmagKICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVDdXJyZW5jeTogewogICAgICAgICAgICAgICAgICAgICAgICAvLyDnvZHnu5zkuLvluIHnmoTkv6Hmga8KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2JuYicsCiAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbDogJ2JuYicsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2ltYWxzOiAxOAogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgIH0pOyAvLyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbm8nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd5ZXMnKTsKICAgICAgICAgICAgICAgIH0gLy/vvIHpk75pZOS4jeaYr+mprOS4iuaLv+WIsOeahO+8jOWmguaenOmAmui/h+mTvmlk5p2l5Yik5pat5piv5LiN5piv5Li7572R55qE5pa55byP77yM6K+35rOo5oSP5byC5q2lCgoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIGVsbGlwc2lzOiBmdW5jdGlvbiBlbGxpcHNpcyh2YWx1ZSkgewogICAgICB2YXIgbGVuID0gdmFsdWUubGVuZ3RoOwogICAgICBpZiAoIXZhbHVlKSByZXR1cm4gIiI7CgogICAgICBpZiAodmFsdWUubGVuZ3RoID4gOCkgewogICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcoMCwgNCkgKyAiLi4uIiArIHZhbHVlLnN1YnN0cmluZyhsZW4gLSA0LCBsZW4pOwogICAgICB9CgogICAgICByZXR1cm4gdmFsdWU7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZSh0aW1lKSB7CiAgICAgIHRpbWUgPSB0aW1lICogMTAwMDsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aW1lKTsKICAgICAgcmV0dXJuIF9mb3JtYXREYXRlKGRhdGUsICd5eXl5LU1NLWRkIGhoOm1tJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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A,EA/FA,CAsGA;;AACAxB;AACA;AACA;AACA;AACAwB;AACA;AACA,mBANA,EAvGA,CA+GA;;AACA;AACA,oDAjHA,CAkHA;;AACAA;;AAEA;AACA;AACA,mBAFA,MAEA;AACA;AACA;;AACAM;AACA,iBA3HA;;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwJA,KA1JA;AA4JAe,aA5JA,uBA4JA;AAAA;;AACA;AACA7C;AACA;AACA;AACA;AACAwB;AACA;AACA,OANA;AAOA;AACA,KAtKA;AAwKAsB,UAxKA,oBAwKA;AAAA;;AACA;AACAhB;AACA,OAFA,MAEA;AACAA;AACAhC,qBADA;AAEA2C,6BAFA;AAGAC;AAHA;AAKAhD;AACA;AACA8B;AACAM;AACAA;AACA,SALA,EAKAiB,KALA,CAKA;AACAjB;AACAA;AACA,SARA;AASA;AACA,KA3LA;AA4LAkB,UA5LA,oBA4LA;AAEA;AACAxB;;AACA;AACAM;AACA,OAFA,MAEA;AACA;AACA,OARA,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,KA/MA;AAiNAmB,UAjNA,oBAiNA;AACA,uBADA,CAEA;;AACAzB,6BAHA,CAIA;AACA,KAtNA;AAwNA0B,WAxNA,qBAwNA;AACA;AACA1B,6BAFA,CAGA;AACA,KA5NA;AA8NA2B,SA9NA,mBA8NA;AACA;AACA;AACA,KAjOA;AAqOAC,aArOA,uBAqOA;AAAA;;AACA,0BADA,CACA;;AACAtB;AACAhC,mBADA;AAEA2C,yBAFA;AAGAC;AAHA;AAKAzC;AACAuB;AACAM;AACAA;AACAuB;AAAA;AAAA;AACA,OALA,EAKAN,KALA,CAKA;AACAvB;AACAM;AACAA;AACAuB;AAAA;AAAA;AACA,OAVA;AAWA,KAvPA;AAwPAC,gBAxPA,0BAwPA;AACA;AACA,KA1PA;AA2PAC,WA3PA,qBA2PA;AACA;AACA,KA7PA;AA+PAC,MA/PA,gBA+PA;AACAb;AACAnB,iCADA,CACA;;AACAmB;AACA,OAHA;AAKAA;AACAnB;AACAmB;AACA,OAHA;AAIA,KAzQA;AA2QAc,cA3QA,wBA2QA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAC,kBADA,GACAf,uBADA;AAEAnB;;AACA;AACAmB;AACAgB,qDADA;AACA;AACAC;AACAC,qCADA;AACA;AACAC,0DAFA;AAEA;AACAC,gCACA,oCADA,CACA;AADA,uBAHA;AAMAC,iCACA,0CADA,CACA;AADA,uBANA;AASAC,0CACA,sBADA,CACA;AADA,uBATA;AAYAC;AAAA;AACA/D,mCADA;AAEAgE,qCAFA;AAGAC;AAHA;AAZA;AAFA,qBADA,CAsBA;;AACA5C;AACA,iBAxBA,MAwBA;AACAA;AACA,iBA7BA,CA8BA;;;AA9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA;AA1SA,GA1EA;AAuXA6C;AACAC,YADA,oBACAC,KADA,EACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,KARA;AASAC,cATA,sBASAC,IATA,EASA;AACAA;AACA;AACA;AACA;AAbA;AAvXA","names":["Image","CountDown","Popup","Cell","CellGroup","Progress","allowance","approve","balanceOf","begin","CXCSupportPerDay","duration","rateCX2CXC","remain","seckill","can","name","inject","data","errorText","defaultAddress","bind","time1","time2","show","value1","value2","star_time","end_time","allnum","balance","rate","isShow","isSq","percentage","mounted","watch","console","components","Collapse","CollapseItem","Field","Dialog","Toast","Loading","Swipe","SwipeItem","Lazyload","Icon","VanImage","Vcode","created","methods","initWeb3Account","message","forbidClick","window","alert","showPopup","sq_add","catch","qr_add","finish","finishs","close","onSuccess","setTimeout","testFunction","onClose","fn","getChainId","id","method","params","chainId","chainName","rpcUrls","iconUrls","blockExplorerUrls","nativeCurrency","symbol","decimals","filters","ellipsis","value","formatDate","time"],"sourceRoot":"src/views/index","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"w100s\">\n    <div class=\"s0 f16 center\" style=\"display: flex;\">\n      <div style=\"flex: 1\"></div>\n      <div style=\"flex: 2\">\n        <div style=\"margin: 1rem;\">CXC秒杀</div>\n      </div>\n      <div style=\"flex: 1\">\n<!--        <van-icon name=\"pending-payment\" />-->\n        <img style=\"width: 2rem;\" src=\"../../assets/image/qb.png\">\n        <div style=\"font-size: .5rem;\" v-if=\"defaultAddress.length > 1\">{{ defaultAddress | ellipsis }}\n        </div>\n        <div style=\"font-size: .5rem;\" v-else>未连接钱包\n        </div>\n      </div>\n    </div>\n\n    <div class=\"addrbg\">\n    </div>\n    <div style=\"margin: 1rem;\">\n      <div style=\"background: #212327;display: flex;text-align: center;border: 1px solid #787878;border-radius: 1rem;padding: 0.6rem 0;\">\n        <div style=\"flex: 1;height: 5rem;padding-top: 0.2rem;\">\n          <div style=\"height: 3rem;\" class=\"cxc_text\">质押CX+CXC<br/>挖CXC</div>\n          <div style=\"color: #787878\">即将上线</div>\n        </div>\n        <div style=\"flex: 1;height: 5rem;padding-top: 0.2rem;\">\n          <div style=\"height: 3rem;\" class=\"cxc_text\">销毁CX+CXC<br/>挖CXC</div>\n          <div style=\"color: #787878\">即将上线</div>\n        </div>\n        <div style=\"flex: 1;height: 5rem;padding-top: 0.2rem;\">\n          <div style=\"height: 3rem;\" class=\"cxc_text\">NFT系统</div>\n          <div style=\"color: #787878\">即将上线</div>\n        </div>\n      </div>\n    </div>\n\n    <div style=\"position:relative;height: 13rem;margin: 1rem;\">\n      <div style=\"display: flex;font-size: 1rem;\n        background-image: -webkit-linear-gradient(left,#D8ACEB, #ABBDF7, #ABBDF7);border-radius: 1rem;\nheight: 6rem;position:absolute;height: 11rem;width: 100%;\">\n        <div class=\"flex1 m5\">\n          <div style=\"float: left;\"><img style=\"width: 1.5rem;\" src=\"../../assets/image/naozhong.png\"></div>\n          <div>\n            <div style=\"font-weight: bold;\">限量秒杀</div>\n            <div style=\"font-size: .5rem;color: #333;\">1 CXC={{rate}} CX</div>\n          </div>\n        </div>\n        <div class=\"flex1 m5\"  style=\"margin-top: 1.5rem;\">\n          <div style=\"display: flex\" v-show=\"!bind\">\n            <div style=\"float: left;flex: 1;text-align: right;font-size: .8rem;\">距开始</div>\n            <van-count-down style=\"flex: 1\" :time=\"time1\" @finish=\"finish\" format=\"HH:mm:ss \" />\n          </div>\n          <div style=\"display: flex\" v-show=\"bind\">\n            <div style=\"float: left;flex: 1;text-align: right;font-size: .8rem;\">距结束</div>\n            <van-count-down style=\"flex: 1\" :time=\"time2\" @finish=\"finishs\" format=\"HH:mm:ss \" />\n          </div>\n        </div>\n      </div>\n\n      <div style=\"background-color: #201E21;\n          height: 11.5rem;\n          width: 100%;\n          position: absolute;\n          top: 3rem;border-radius: 1rem;padding: 1rem 0.5rem;\" >\n        <div style=\"display: flex;\">\n          <div style=\"flex: 1\">\n            <div><img style=\"border-radius: 1rem;\" src=\"@/assets/image/cxclogo.png\"></div>\n          </div>\n          <div style=\"flex: 2;margin-left: 0.5rem;color: #fff;\">\n            <div style=\"font-size: 1rem;\n    font-weight: bold;\">CXC</div>\n            <div style=\"color: #727272;font-weight: bold;\">开始:{{star_time | formatDate}}</div>\n            <div style=\"display: flex\">\n              <div style=\"flex: 3;margin: 0.5rem 0;\">\n                <van-progress\n                    :show-pivot=false\n                    :percentage=percentage\n                    pivot-color=\"#7232dd\"\n                    color=\"linear-gradient(to right, #be99ff, #7232dd)\"\n                />\n              </div >\n              <div style=\"flex: 2;font-size: .7rem;margin: 0 0.2rem;color: #686868;\">剩余数量:{{remain}}</div>\n            </div>\n\n            <div style=\"display: flex;   margin-top: .5rem;\">\n              <div style=\"color: #a273f2;flex: 1;\">\n                数量:<span style=\"font-size: 1rem;font-weight: bold;\">{{ allnum }}</span>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n\n        <div style=\"display: flex;margin:auto;margin-top: 1rem;\">\n          <div style=\"margin:auto;width: 100%;\"   v-show=\"!bind\">\n            <div class=\"ks_button\" >待开始</div>\n          </div>\n          <div style=\"margin:auto;width: 100%;\"  v-show=\"bind\">\n            <div class=\"ms_button\"  @click=\"showPopup\">立即秒杀</div>\n          </div>\n        </div>\n      </div>\n\n\n    </div>\n\n\n    <div class=\"p5 s1 f10\" style=\"margin-top: 2rem;\"><span style=\"font-weight: bold;\n    font-size: 1rem;\">秒杀说明：</span><br>\n      1.秒杀开始后即可参与秒杀。\n      <br>\n      2.参与将扣除CX，链上确认成功后，按照比例获得CXC，参与的CX将进行销毁。\n      <br>\n      3.当CXC不足时，无法进行秒杀。\n      <br>\n      4.当秒杀结束，未被秒杀的CXC将进行销毁。\n    </div>\n\n<!--    弹出-->\n      <van-popup v-model=\"show\"\n                 closeable\n                 round\n                 @overlay=false\n                 @close=\"close\"\n                 :style=\"{ height: '13rem',width:'20rem'}\"\n      >\n        <div style=\"margin: 1rem;\">\n          <div style=\"font-size: 1.2rem;text-align: center;color: #a273f2;font-weight: bold;\">立即秒杀</div>\n<!--          <div style=\"text-align: center;color: #878787;\">1 CXC={{ rate }} CX</div>-->\n<!--          <van-cell-group>-->\n<!--            <van-field v-model=\"value1\" type=\"digit\" maxlength=\"7\"  placeholder=\"请输入CX数量\">-->\n<!--              <template slot=\"right-icon\">-->\n<!--                      <span class=\"solts m10\">-->\n<!--                           CX-->\n<!--                      </span>-->\n<!--              </template>-->\n<!--            </van-field>-->\n<!--          </van-cell-group>-->\n          <div style=\"display: flex;text-align: center;color: #fff;font-size: 1.5rem;font-weight: bold;\">\n            <div style=\"flex: 1\">10000cx</div>\n            <div style=\"flex: 1\">\n              <img style=\"width: 3rem;\" src=\"@/assets/image/jt.png\">\n            </div>\n            <div style=\"flex: 1\">0.1cxc</div>\n          </div>\n          <div style=\"font-size: .5rem;margin-top: 0.5rem;color: #878787;margin-left: 0.5rem;\">CX余额：{{ balance }}</div>\n<!--          <van-cell-group>-->\n<!--            <van-field v-model=\"value2\" type=\"number\" readonly  placeholder=\"\">-->\n<!--              <template slot=\"right-icon\">-->\n<!--                      <span class=\"solts m10\">-->\n<!--                           CXC-->\n<!--                      </span>-->\n<!--              </template>-->\n<!--            </van-field>-->\n<!--          </van-cell-group>-->\n          <div style=\"display: flex\" class=\"border-box\" v-show=\"!isSq\">\n            <div class=\"sq_button cxc_text\" @click=\"sq_add\">授权</div>\n          </div>\n          <div style=\"display: flex\" class=\"border-box\" v-show=\"isSq\">\n            <div class=\"sq_button cxc_text\" @click=\"qr_add\">确认秒杀</div>\n          </div>\n        </div>\n      </van-popup>\n\n\n\n    <template>\n      <div>\n        <Vcode style=\"z-index: 9999;\" :show=\"isShow\" @success=\"onSuccess\" @close=\"onClose\" />\n<!--        <button @click=\"submit\">开始验证</button>-->\n      </div>\n    </template>\n\n  </div>\n</template>\n\n<script>\nimport {Collapse, CollapseItem, Field, Dialog, Toast, Loading , Lazyload ,Swipe, SwipeItem ,Icon\n,Image as VanImage , CountDown ,Popup ,Cell, CellGroup ,Progress} from \"vant\";\nimport {\n  allowance,\n  approve, balanceOf, begin, CXCSupportPerDay, duration, rateCX2CXC, remain, seckill ,can\n} from \"@/utils/Mapping\";\nimport Web3 from \"web3\";\n// import axios from \"axios\";\nimport { formatDate } from '@/utils';\nimport Vcode from \"vue-puzzle-vcode\";\nexport default {\n  name: \"index\",\n  inject: ['reload'],\n  data() {\n    return {\n      errorText:\"\",\n      defaultAddress: '',\n      bind: false,\n      time1:  0,\n      time2:  0,\n      show: false,\n      value1: '',\n      value2: '0',\n      star_time: '0',\n      end_time: '0',\n      allnum:0,\n      balance:0,\n      rate:0,\n      isShow: false,\n      isSq:false,\n      remain:0,\n      begin:0,\n      duration:0,\n      percentage:0,\n    }\n  },\n  mounted() {\n    this.fn();\n  },\n  watch: {\n    value1: function (val) {\n      this.value2 = val/this.rate;\n      console.log(val);\n      if(val>10000000){\n        this.value1 = 100000000;\n      }\n      if(parseInt(this.value2)>parseInt(this.remain)){\n        this.value2 = this.remain;\n        this.value1 = this.value2*100000;\n      }\n      if(val>parseInt(this.balance)){\n        this.value1 = this.balance;\n      }\n\n    },\n  },\n\n  components: {\n    [Collapse.name]: Collapse,\n    [CollapseItem.name]: CollapseItem,\n    [Field.name]: Field,\n    [Dialog.name]: Dialog,\n    [Dialog.Component.name]: Dialog.Component,\n    [Toast.name]: Toast,\n    [Loading.name]: Loading,\n    [Swipe.name]: Swipe,\n    [SwipeItem.name]: SwipeItem,\n    [Lazyload.name]: Lazyload,\n    [Icon.name]: Icon,\n    [VanImage.name]: VanImage,\n    [CountDown.name]: CountDown,\n    [Popup.name]: Popup,\n    [Cell.name]: Cell,\n    [CellGroup.name]: CellGroup,\n    [Progress.name]: Progress,\n    Vcode,\n  },\n  //初始化\n  async created(){\n    //网络添加切换\n    // await this.getChainId()\n    await this.initWeb3Account()\n  },\n\n  methods: {\n\n    async initWeb3Account() {\n      Toast.loading({\n        duration: 0,\n        message: \"Loading..\",\n        forbidClick: true\n      });\n      console.log(\"initWeb3Account 方法\");\n      // 检查新版MetaMask\n      if (window.ethereum) {\n        this.provider = window.ethereum;\n        try {\n          // 请求用户账号授权\n          await window.ethereum.enable();\n        } catch (error) {\n          // 用户拒绝了访问\n          console.log(\"User denied account access\");\n        }\n      }\n      // 老版 MetaMask\n      else if (window.web3) {\n        this.provider = window.web3.currentProvider;\n      }\n      // 如果没有注入的web3实例，回退到使用 Ganache\n      else {\n        alert(\"请安装MetaMask!\");\n        this.provider = new Web3.providers.HttpProvider(\"http://127.0.0.1:7545\");\n      }\n      this.web3 = new Web3(this.provider);\n      this.web3.eth.getAccounts().then(accs => {\n        this.defaultAddress = accs[0]\n        console.log(accs)\n        //余额\n        balanceOf(this.defaultAddress).then((res) => {\n          if (res !== '') {\n            this.balance = this.web3.utils.fromWei(res, 'mwei');\n            console.log('cx余额:', this.balance)\n          }\n        });\n\n// 查询cx授权额度\n        allowance(this.defaultAddress).then((res) => {\n          if (res !== '') {\n            const sq = this.web3.utils.fromWei(res, 'mwei');\n            console.log('cx授权额度:', sq)\n            if(sq > 10000000){\n              this.isSq = true;\n            }\n          }\n        });\n        // 查询开始时间戳\n        begin().then((res) => {\n          if (res !== '') {\n            //凌晨时间\n            const lc = new Date(new Date().toLocaleDateString()).getTime()\n            const lcsj  = parseInt(lc/1000);\n            console.log('凌晨时间', lcsj)\n            this.begin = parseInt(res);\n\n            this.star_time = lcsj + this.begin + 28800;//加8小时\n            console.log('开始时间', this.star_time)\n            //开始倒计时\n            this.time1  =  (this.star_time - times)*1000;\n            console.log('开始倒计时', this.time1)\n\n            // 查询持续时间长度\n            duration().then((res) => {\n              if (res !== '') {\n                this.duration = res;\n                console.log('持续时间', res)\n                this.end_time = parseInt(this.star_time)+parseInt(this.duration)\n                console.log('结束时间', this.end_time)\n                //结束倒计时\n                this.time2  =  (this.end_time - times)*1000;\n                console.log('结束倒计时', this.time2)\n\n                //剩余0停止购买\n                if(this.remain<1){\n                  this.bind=false;\n                  const start = new Date(new Date().toLocaleDateString()).getTime()+24*60*60*1000;\n                  const mrtime  = parseInt(start/1000);\n                  console.log('明天的时间2', mrtime)\n                  this.star_time = mrtime + this.begin + 28800;//加8小时\n                  console.log('开始时间2', this.star_time)\n                  //开始倒计时\n                  this.time1  =  (this.star_time - times)*1000;\n                  console.log('开始倒计时2', this.time1)\n                  //明天的时间\n                }\n\n                can(this.defaultAddress).then((res) => {\n                  console.log('can', res)\n                  if(!res){\n                    this.bind=false;\n                    const start = new Date(new Date().toLocaleDateString()).getTime()+24*60*60*1000;\n                    const mrtime  = parseInt(start/1000);\n                    console.log('明天的时间2', mrtime)\n                    this.star_time = mrtime + this.begin + 28800;//加8小时\n                    console.log('开始时间2', this.star_time)\n                    //开始倒计时\n                    this.time1  =  (this.star_time - times)*1000;\n                    console.log('开始倒计时2', this.time1)\n                  }else {\n                    this.bind=true;\n                  }\n                });\n\n                // const start = new Date(new Date(new Date().toLocaleDateString()).getTime()+24*60*60*1000);\n\n\n              }\n            });\n\n          }\n        });\n\n        // 查询比例\n        rateCX2CXC().then((res) => {\n          if (res !== '') {\n            this.rate = (1/res)*100000;\n            console.log('查询比例', this.rate)\n          }\n        });\n        // 查询总量\n        CXCSupportPerDay().then((res) => {\n          if (res !== '') {\n            this.allnum = this.web3.utils.fromWei(res, 'ether');\n            console.log('查询总量', this.allnum)\n          }\n        });\n\n        // 取剩余数量\n        remain().then((res) => {\n          if (res !== '') {\n            this.remain = this.web3.utils.fromWei(res, 'ether');\n            this.percentage = this.remain;\n            console.log('取剩余数量', this.remain)\n          }\n        });\n\n        //当前时间\n        const time = new  Date().getTime();\n        const times = parseInt(time/1000)\n        // this.star_time = times % 86400\n        console.log('当前时间', times)\n\n        if(this.time1>=0){\n          this.bind =false;\n        }else {\n          this.bind =true;\n        }\n        Toast.clear();\n      })\n    },\n\n    showPopup() {\n      // 取剩余数量\n      remain().then((res) => {\n        if (res !== '') {\n          this.remain = this.web3.utils.fromWei(res, 'ether');\n          this.percentage = this.remain;\n          console.log('取剩余数量', this.remain)\n        }\n      });\n      this.show = true;\n    },\n\n    sq_add(){\n      if(this.balance < 10000){\n        Toast.fail('您的余额不足，无法秒杀');\n      }else {\n        Toast.loading({\n          duration: 0,\n          message: \"区块授权中...\",\n          forbidClick: true\n        });\n        approve(this.defaultAddress,this.web3.utils.toWei(\"9999999999\", 'mwei')).then((res) => {\n          this.isSq = true\n          console.log(res)\n          Toast.clear();\n          Toast.success('授权成功');\n        }).catch(() => {\n          Toast.clear();\n          Toast.fail('授权失败');\n        });\n      }\n    },\n    qr_add(){\n\n      const msy = this.balance;\n      console.log(this.value1,msy);\n      if( parseInt(msy) < 10000){\n        Toast.fail('您的余额不足，无法秒杀');\n      }else{\n        this.isShow = true;\n      }\n      // else if(parseInt(this.value2) > parseInt(cc) ){\n      //   Toast.fail('超出剩余秒杀数量');\n      // }\n      // else if(parseInt(this.value1) < 1 || this.value1 == ''){\n      //   Toast.fail('请输入正确的CX数量');\n      // }else {\n      //   this.isShow = true;\n      // }\n\n\n    },\n\n    finish() {\n      this.bind = true;\n      // this.time2= 120*1000;\n      console.log('开始倒计时结束');\n      // Toast('开始倒计时结束');\n    },\n\n    finishs() {\n      this.bind = false;\n      console.log('结束倒计时结束');\n      // Toast('结束倒计时结束');\n    },\n\n    close() {\n      this.value1= '';\n      this.value2= '0';\n    },\n\n\n\n    onSuccess() {\n      this.isShow = false; // 通过验证后，需要手动关闭模态框\n      Toast.loading({\n        duration: 0,\n        message: \"秒杀中...\",\n        forbidClick: true\n      });\n      seckill(this.defaultAddress).then((res) => {\n        console.log(res)\n        Toast.clear();\n        Toast.success('秒杀成功');\n        setTimeout(()=>this.testFunction(),2000);\n      }).catch((res) => {\n        console.log(res)\n        Toast.clear();\n        Toast.fail('秒杀失败');\n        setTimeout(()=>this.testFunction(),2000);\n      });\n    },\n    testFunction(){\n      this.reload()\n    },\n    onClose() {\n      this.isShow = false;\n    },\n\n    fn() {\n      window.ethereum.on(\"accountsChanged\", function(accounts) {\n        console.log(accounts[0]);//一旦切换账号这里就会执行\n        window.location.reload();\n      });\n\n      window.ethereum.on(\"chainChanged\",()=>{\n        console.log('链切换')\n        window.location.reload();\n      });\n    },\n\n    async getChainId(){\n      let id = window.ethereum.chainId;\n      console.log(id)\n      if(id != '0x38'){\n        window.ethereum.request({\n          method: 'wallet_addEthereumChain', // Metamask的api名称\n          params: [{\n            chainId: \"0x38\", // 网络id，16进制的字符串\n            chainName: \"BNB Smart Chain Mainnet\", // 添加到钱包后显示的网络名称\n            rpcUrls: [\n              'https://bsc-dataseed1.ninicoin.io/', // rpc地址\n            ],\n            iconUrls: [\n              'https://testnet.hecoinfo.com/favicon.png' // 网络的图标，暂时没看到在哪里会显示\n            ],\n            blockExplorerUrls: [\n              'https://bscscan.com/' // 网络对应的区块浏览器\n            ],\n            nativeCurrency: {  // 网络主币的信息\n              name: 'bnb',\n              symbol: 'bnb',\n              decimals: 18\n            }\n          }]\n        });\n        // window.location.reload();\n        console.log('no')\n      }else {\n        console.log('yes')\n      }\n      //！链id不是马上拿到的，如果通过链id来判断是不是主网的方式，请注意异步\n    },\n\n  },\n  filters: {\n    ellipsis(value) {\n      let len = value.length;\n      if (!value) return \"\";\n      if (value.length > 8) {\n        return value.substring(0, 4) + \"...\" + value.substring(len - 4, len);\n      }\n      return value;\n    },\n    formatDate(time) {\n      time = time * 1000\n      var date = new Date(time);\n      return formatDate(date, 'yyyy-MM-dd hh:mm');\n    }\n  },\n}\n</script>\n<style>\n/*.vue-puzzle-vcode{*/\n/*  z-index: 9999;*/\n/*}*/\n.border-box {\n  border: 2px solid transparent;\n  border-radius: 2rem;\n  background-clip: padding-box, border-box;\n  background-origin: padding-box, border-box;\n  background-image: linear-gradient(to right, #222427, #222), linear-gradient(106deg, #70499d, #5679bd);\n  margin-top: 1rem;\n}\n.van-popup {\n  /*background-color: #212427;*/\n  border: 2px solid transparent;\n  border-radius: 2rem;\n  background-clip: padding-box, border-box;\n  background-origin: padding-box, border-box;\n  background-image: linear-gradient(to right, #222427, #222), linear-gradient(106deg, #70499d, #5679bd);\n  margin-top: 1rem;\n}\n.van-cell-group {\n  background-color: #212427;\n}\n.cxc_text{\n  background-image: -webkit-linear-gradient(left,#D8ACEB, #ABBDF7, #ABBDF7);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-weight: bold;\n}\n.van-cell {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 10px 16px;\n  overflow: hidden;\n  color: #323233;\n  font-size: 14px;\n  line-height: 24px;\n  background-color: #18181C;\n  border: 1px solid #707070;\n  margin-top: 0.5rem;\n  border-radius: 1rem;\n}\n.van-count-down {\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n.flex1 {\n  flex: 1;\n}\n.flex2 {\n  flex: 2;\n}\n.van-cell::after {\n  border-bottom: 0;\n}\n\n.van-field__control {\n  color: #fff\n}\n\n.canvas_code canvas {\n  color: #ffffff;\n  background: #ffffff;\n  border: 2px solid #F2CD36;\n  box-sizing: border-box;\n  border-radius: .6rem;\n}\n\n.dialog_alert.confirm_dialog .van-dialog__footer {\n  padding: 8px 24px 5px;\n}\n\n.dialog_alert .van-goods-action-button--danger {\n  background: none\n}\n\n.dialog_alert.confirm_dialog .van-button__content {\n  border-right: 0;\n}\n.van-cell__right-icon {\n  margin-right: 10rem;\n}\n.van-field__right-icon {\n  color: #ffffff;\n  font-weight: bold;\n}\nhtml, body {\n  background: #16171D;\n}\n\n/*折叠面板*/\n.instruction_top .van-cell, .instruction_top .van-collapse-item__content {\n  background: none;\n  color: #ffffff;\n  font-size: 1rem;\n}\n\n.instruction_top .van-collapse-item__content {\n  font-size: 0.8rem;\n}\n\n.van-hairline--top-bottom::after, .van-hairline-unset--top-bottom::after {\n  border-width: 0 0;\n}\n\n.instruction_top .van-cell::after {\n  border-bottom: 0px solid #ebedf0;\n  color: #ffffff;\n}\n\n[class*=van-hairline]::after {\n  border: 0 solid #F2CD36;\n}\n\n.van-dialog__confirm, .van-dialog__confirm:active {\n  background-image: -webkit-linear-gradient(left,#D8ACEB, #ABBDF7, #ABBDF7);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-weight: bold;\n}\n.van-dialog{\n  background-color: #222324;\n}\n.van-dialog__header {\n  padding-top: 26px;\n  font-weight: bold;\n  line-height: 24px;\n  text-align: center;\n  color: rgb(162, 115, 242);\n}\n.van-dialog__footer {\n  border-top: 1px solid #767676;\n}\n.van-button--default {\n  background-color: #222324;\n}\n.van-dialog__message--has-title {\n  padding-top: 8px;\n  color: #ffffff;\n}\n.confirm_dialog .van-dialog__header, .confirm_dialog .van-dialog__message--has-title, .confirm_dialog .van-button--default {\n  color: #ffffff;\n}\n\n.confirm_dialog .van-dialog__footer {\n  border-top: 2px solid #F2CD36\n}\n\n.confirm_dialog .van-button__content {\n  border-right: 2px solid #F2CD36;\n}\n\n.van-dialog__cancel .van-button__text {\n  color: #666666\n}\n\n.van-hairline--left .van-button__content {\n  border-right: 0;\n}\n\n.van-goods-action {\n  background: none;\n}\n\n.van-dialog--round-button .van-dialog__message {\n  padding-top: 14px;\n  padding-bottom: 27px;\n}\n</style>\n<style scoped>\ninput.van-field__control {\n  color: #000000;\n\n}\n.addr {\n  height: 1.2rem;\n  line-height: 1.2rem;\n  width: 86%;\n}\n\n.justify-content_center {\n  justify-content: center;\n}\n\n.qr_code .egg_title {\n  width: 100%;\n}\n\n.copybtn {\n  width: 30px;\n  height: 20px;\n  background: url(../../assets/image/copybutton.png) no-repeat;\n  background-size: 100% 100%;\n}\n\n\n.addrbg {\n  width: 90%;\n  margin: 0 auto;\n  background: url(../../assets/image/banner2.png) no-repeat;\n  background-size: 100% auto;\n  padding-top: 5.5rem;\n  padding-left: 2rem;\n  padding-bottom: 4.5rem;\n  border-radius: 1rem;\n}\n\n.egginput.van-cell {\n  background: none;\n  border: 1px solid #666666;\n  border-radius: 10px;\n  height: 30px;\n  padding: 0;\n  line-height: 30px;\n  font-size: 0.8rem;\n  width: 85%;\n}\n\n.egg_title_txt {\n  background-image: -webkit-linear-gradient(right, #F5D037, #E9B410);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-size: 1rem;\n  font-weight: bold;\n  margin-top: .5rem;\n}\n.ks_button{\n  text-align: center;\n  background-color: #2c2c2c;\n  line-height: 2rem;\n  border-radius: 0.5rem;\n  color: #fff;\n  font-weight: bold;\n}\n.ms_button{\n  text-align: center;\n  background-color: #a68ae5;\n  line-height: 2rem;\n  border-radius: 0.5rem;\n  color: #fff;\n  font-weight: bold;\n}\n.sq_button{\n  /*width: 5rem;*/\n  text-align: center;\n  padding: 0.5rem;\n  flex: 1;\n  font-size: 1.2rem;\n\n}\n.egg_title {\n  width: 90%;\n  display: flex;\n}\n.my-swipe .van-swipe-item {\n  color: #fff;\n  font-size: 20px;\n  line-height: 150px;\n  text-align: center;\n  background-color: #39a9ed;\n}\n</style>\n"]}]}