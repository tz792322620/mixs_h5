{"remainingRequest":"/Users/sanxun/Downloads/misx_h5/node_modules/babel-loader/lib/index.js!/Users/sanxun/Downloads/misx_h5/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sanxun/Downloads/misx_h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sanxun/Downloads/misx_h5/src/views/index/success.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sanxun/Downloads/misx_h5/src/views/index/success.vue","mtime":1645239023000},{"path":"/Users/sanxun/Downloads/misx_h5/babel.config.js","mtime":1644982795000},{"path":"/Users/sanxun/Downloads/misx_h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sanxun/Downloads/misx_h5/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/sanxun/Downloads/misx_h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sanxun/Downloads/misx_h5/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zYW54dW4vRG93bmxvYWRzL21pc3hfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IFRvYXN0IH0gZnJvbSAidmFudCI7CmltcG9ydCB7IGVnZ1dhbGxldCwgZWdnQ29kZXMgYXMgX2VnZ0NvZGVzIH0gZnJvbSAiQC91dGlscy9NYXBwaW5nIjsKaW1wb3J0IFdlYjMgZnJvbSAid2ViMyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAic3VjY2VzcyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIEVHRzogJycsCiAgICAgIGRlZmF1bHRBZGRyZXNzOiAnJwogICAgfTsKICB9LAogIC8v5Yid5aeL5YyWCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbml0V2ViM0FjY291bnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRXZWIzQWNjb3VudDogZnVuY3Rpb24gaW5pdFdlYjNBY2NvdW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBUb2FzdC5sb2FkaW5nKHsKICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDAsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJMb2FkaW5nLi4iLAogICAgICAgICAgICAgICAgICBmb3JiaWRDbGljazogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaW5pdFdlYjNBY2NvdW50IOaWueazleaJp+ihjOS6hi0tLS0tLS0iKTsgLy8g5qOA5p+l5paw54mITWV0YU1hc2sKCiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5ldGhlcmV1bSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIucHJvdmlkZXIgPSB3aW5kb3cuZXRoZXJldW07CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmV0aGVyZXVtLmVuYWJsZSgpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICAgIC8vIOeUqOaIt+aLkue7neS6huiuv+mXrgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlVzZXIgZGVuaWVkIGFjY291bnQgYWNjZXNzIik7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBpZiAod2luZG93LndlYjMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnByb3ZpZGVyID0gd2luZG93LndlYjMuY3VycmVudFByb3ZpZGVyOwogICAgICAgICAgICAgICAgfSAvLyDlpoLmnpzmsqHmnInms6jlhaXnmoR3ZWIz5a6e5L6L77yM5Zue6YCA5Yiw5L2/55SoIEdhbmFjaGUKICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICBhbGVydCgi6K+35a6J6KOFTWV0YU1hc2shIik7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm92aWRlciA9IG5ldyBXZWIzLnByb3ZpZGVycy5IdHRwUHJvdmlkZXIoImh0dHA6Ly8xMjcuMC4wLjE6NzU0NSIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX3RoaXMyLndlYjMgPSBuZXcgV2ViMyhfdGhpczIucHJvdmlkZXIpOwoKICAgICAgICAgICAgICAgIF90aGlzMi53ZWIzLmV0aC5nZXRBY2NvdW50cygpLnRoZW4oZnVuY3Rpb24gKGFjY3MpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmRlZmF1bHRBZGRyZXNzID0gYWNjc1swXTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWNjcyk7CiAgICAgICAgICAgICAgICAgIGVnZ1dhbGxldCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFR0fmjIflrprpkrHljIXlnLDlnYA6JywgcmVzKTsgLy8gY29uc29sZS5sb2cocmVzKQoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuRUdHID0gcmVzOwogICAgICAgICAgICAgICAgICAgIFRvYXN0LmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbNCwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5aSN5Yi2CiAgICBjb3B5OiBmdW5jdGlvbiBjb3B5KCkgewogICAgICB0aGlzLiRjb3B5VGV4dCh0aGlzLkVHRykudGhlbihmdW5jdGlvbiAoZSkgewogICAgICAgIFRvYXN0KCflpI3liLbmiJDlip8nKTsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBUb2FzdCgn5aSN5Yi25aSx6LSlJyk7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJvdXRlcmluZGV4OiBmdW5jdGlvbiByb3V0ZXJpbmRleCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvdmVyaWZpY2F0aW9uIgogICAgICB9KTsKICAgIH0sCiAgICBlZ2dDb2RlczogZnVuY3Rpb24gZWdnQ29kZXMoKSB7CiAgICAgIF9lZ2dDb2Rlcyh0aGlzLmRlZmF1bHRBZGRyZXNzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACAA,iBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,aADA;AAEAC;AAFA;AAIA,GAPA;AAQA;AACAC,SATA,qBASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,uBADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,GAXA;AAaAC;AACAC,mBADA,6BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACAC;AACAC,6BADA;AAEAC,sCAFA;AAGAC;AAHA;AAKAC,4DANA,CAOA;;AAPA,qBAQAC,eARA;AAAA;AAAA;AAAA;;AASA;AATA;AAAA;AAAA,uBAYAA,wBAZA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAcA;AACAD;;AAfA;AAAA;AAAA;;AAAA;AAmBA;AACA;AACA,iBAFA,CAGA;AAHA,qBAIA;AACAE;AACA;AACA;;AA1BA;AA2BA;;AACA;AACA;AACAF;AACAG;AACAH,mDADA,CAEA;;AACA;AACAJ;AACA,mBALA;AAMA,iBATA;;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsCA,KAvCA;AAwCA;AACAQ,QAzCA,kBAyCA;AACA;AACAR;AACAI;AACA,OAHA,EAGA;AACAJ;AACAI;AACA,OANA;AAOA,KAjDA;AAkDAK,eAlDA,yBAkDA;AACA;AAAAC;AAAA;AACA,KApDA;AAqDAC,YArDA,sBAqDA;AACAA;AACAP;AACA,OAFA;AAGA;AAzDA;AAbA","names":["name","data","EGG","defaultAddress","created","methods","initWeb3Account","Toast","duration","message","forbidClick","console","window","alert","eggWallet","copy","routerindex","path","eggCodes"],"sourceRoot":"src/views/index","sources":["success.vue"],"sourcesContent":["<template>\n<div>\n  <div class=\"s0 f16 center mt2\">ETF映射</div>\n  <div class=\"successico mt10\"></div>\n  <p class=\"s0 f16 center mt2 ml5\">绑定成功！</p>\n  <p class=\"f10 s1 center  ml5 mr5\">1.绑定先转一笔验签数量的EGG到钱包进行验签</p>\n  <p class=\"f10 s1 center  ml5 mr5\">2.转入成功后,再把ETF转入指定钱包中完成映射</p>\n\n  <div class=\"border_radius f16 mt5\">\n    <div class=\"egg_title mt2\">\n      <div class=\"egg_title_txt\" @click=\"routerindex\">去验签</div>\n    </div>\n  </div>\n\n<!--  <div class=\"border_radius f16 mt5\">-->\n<!--  <div class=\"egg_title mt2\">-->\n<!--    <div class=\"egg_title_txt\" @click=\"eggCodes\">随机码查询</div>-->\n<!--  </div>-->\n<!--  </div>-->\n</div>\n</template>\n\n<script>\nimport {Toast} from \"vant\";\nimport {eggWallet,eggCodes} from \"@/utils/Mapping\";\nimport Web3 from \"web3\";\nexport default {\n  name: \"success\",\n  data(){\n    return{\n      EGG: '',\n      defaultAddress: '',\n    }\n  },\n  //初始化\n  async created(){\n    await this.initWeb3Account()\n  },\n\n  methods:{\n    async initWeb3Account() {\n        Toast.loading({\n          duration: 0,\n          message: \"Loading..\",\n          forbidClick: true\n        });\n      console.log(\"initWeb3Account 方法执行了-------\");\n      // 检查新版MetaMask\n      if (window.ethereum) {\n        this.provider = window.ethereum;\n        try {\n          // 请求用户账号授权\n          await window.ethereum.enable();\n        } catch (error) {\n          // 用户拒绝了访问\n          console.log(\"User denied account access\");\n        }\n      }\n      // 老版 MetaMask\n      else if (window.web3) {\n        this.provider = window.web3.currentProvider;\n      }\n      // 如果没有注入的web3实例，回退到使用 Ganache\n      else {\n        alert(\"请安装MetaMask!\");\n        this.provider = new Web3.providers.HttpProvider(\"http://127.0.0.1:7545\");\n      }\n      this.web3 = new Web3(this.provider);\n      this.web3.eth.getAccounts().then(accs => {\n        this.defaultAddress = accs[0]\n        console.log(accs)\n        eggWallet().then((res) => {\n          console.log('EGG指定钱包地址:', res)\n          // console.log(res)\n          this.EGG = res\n          Toast.clear();\n        });\n      })\n    },\n    // 复制\n    copy() {\n      this.$copyText(this.EGG).then(function (e) {\n        Toast('复制成功');\n        console.log(e)\n      }, function (e) {\n        Toast('复制失败');\n        console.log(e)\n      })\n    },\n    routerindex(){\n      this.$router.push({ path: \"/verification\" });\n    },\n    eggCodes(){\n      eggCodes(this.defaultAddress).then((res) => {\n        console.log(res)\n      });\n    }\n  }\n}\n</script>\n<style>\n.border_bottom{\n  padding-bottom: 5%;\n  border-bottom: 1px dashed #7C7C7D;\n}\nhtml, body {\n  background: #16171D;\n}\n.canvas_code canvas {\n  color: #ffffff;\n  background: #ffffff;\n  border: 2px solid #F2CD36;\n  box-sizing: border-box;\n  border-radius: .6rem;\n}\n</style>\n<style scoped>\n.successico{width: 60px;height: 60px;background:url(../../assets/image/finishico.png)no-repeat;background-size: 100% 100%;margin: 0 auto;margin-top: 10%;}\n.egg_title_txt {\n  background-image: -webkit-linear-gradient(right, #F5D037, #E9B410);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-size: 1rem;\n  font-weight: bold;\n}\n\n.egg_title {\n  width: 90%;\n  display: flex;\n}\n.justify-content_center{    justify-content: center;}\n.qr_code .egg_title{width: 100%;}\n.copybtn {\n  width: 30px;\n  height: 20px;\n  background: url(../../assets/image/copybutton.png) no-repeat;\n  background-size: 100% 100%;\n}\n</style>\n"]}]}